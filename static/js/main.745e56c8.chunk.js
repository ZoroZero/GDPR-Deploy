(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{120:function(e,n,t){"use strict";t.d(n,"b",(function(){return c}));var a=t(71),r=t.n(a),o=r.a.create({baseURL:"https://reqres.in/api"});o.interceptors.request.use((function(e){if(r.a.defaults.headers.common.Authorization)return e;throw{message:"the token is not available"}}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject([{userId:"Not authorized",id:"aerw15311sq",title:"Please try again",completed:!1}])}));var c=function(e){e?o.defaults.headers.common.Authorization=e:delete o.defaults.headers.common.Authorization};n.a=o},141:function(e,n,t){"use strict";var a=t(0),r=t.n(a);n.a=function(e){return r.a.createElement("div",null,"Oopss ... Not Found")}},164:function(e,n,t){e.exports=t(299)},173:function(e,n,t){},174:function(e,n,t){},294:function(e,n,t){},298:function(e,n,t){},299:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(12),c=t.n(o),i=t(147),l=t(58),u=t(143),s=t(75),m=t.n(s),d=t(104),f=t(53),p=t(25),g=t(302),h=t(96),b=t(308),E=t(309);t(173);function v(e){for(var n="".concat(e,"="),t=document.cookie.split(";"),a=0;a<t.length;a++){var r=t[a];if(0===(r=r.trim()).indexOf(n))return r.substring(n.length,r.length)}return""}var k=t(6),y=t.n(k),w=t(305),j=t(303),O=t(304),x=(t(174),t(83)),q=t(71),N=t.n(q),I=t(120),P={userInfo:{accessToken:null,exp:null,fullName:null,email:null},token:null,loading:!1},R=Object(x.b)({name:"app",initialState:P,reducers:{login:function(e,n){e.token=n.payload.token},logout:function(e,n){e.token=null,e.userInfo=P.userInfo},loading:function(e,n){e.loading=!0},stopLoading:function(e,n){e.loading=!1}}}),T=R.actions,z=T.login,C=T.logout,S=T.loading,F=T.stopLoading,L=R.reducer,M=function(){return function(e){e(S()),function(){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var t=e[n],a=t.indexOf("="),r=a>-1?t.substr(0,a):t;document.cookie="".concat(r," =;expires=Thu, 01 Jan 1970 00:00:00 GMT")}}(),e(C()),e(F())}},A=function(e,n){return function(t){return new Promise((function(a,r){return t(S()),function(e,n){return new Promise((function(t,a){return N.a.post("https://reqres.in/api/login",{email:e,password:n}).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))}(e,n).then((function(e){var n=e.token;console.log(n),function(e,n,t){var a=new Date;a.setTime(a.getTime()+60*t*60*1e3);var r="expires=".concat(a.toUTCString());document.cookie="".concat(e,"=").concat(n,";").concat(r,";path=/")}("token",n),Object(I.b)(n),t(z({token:n})),t(F()),a()})).catch((function(e){t(F()),r(e)}))}))}},H={labelCol:{span:8},wrapperCol:{span:16}},J={wrapperCol:{offset:8,span:16}};var U=function(e){var n=Object(l.b)(),t=Object(p.g)();return r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{style:{width:"33%"}},r.a.createElement(j.a,Object.assign({},H,{name:"basic",initialValues:{remember:!0},onFinish:function(e){n(A(e.email,e.password)).then((function(){w.b.success("login successfully"),t.push("/")})).catch((function(e){w.b.error(e[0].title),console.log(e)}))},onFinishFailed:function(e){console.log("Failed:",e)}}),r.a.createElement(j.a.Item,{label:"Email",name:"email",initialValue:"eve.holt@reqres.in",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(O.a,null)),r.a.createElement(j.a.Item,{label:"Password",name:"password",initialValue:"cityslicka",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(O.a.Password,null)),r.a.createElement(j.a.Item,J,r.a.createElement(h.a,{type:"primary",htmlType:"submit"},"Submit")))))},V=t(141),B=t(159),W=function(e){var n=e.component,t=Object(B.a)(e,["component"]);return r.a.createElement(p.b,Object.assign({},t,{render:function(e){return null!==function(){var e=v("token");return""!==e?e:null}()?r.a.createElement(n,e):r.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},D=t(300),G=t(306),K=t(307);var $=function(e){var n=Object(p.h)();return r.a.createElement(D.a,{theme:"dark",mode:"inline",selectedKeys:[n.pathname]},r.a.createElement(D.a.Item,{key:"/users",icon:r.a.createElement(G.a,null)},"User",r.a.createElement(f.b,{to:"/users"})),r.a.createElement(D.a.Item,{key:"/request-management",icon:r.a.createElement(K.a,null)},"Manage Request",r.a.createElement(f.b,{to:"/request-management"})))},Q=t(301);t(294);var X=function(e){return r.a.createElement("div",{className:"loading-container"},r.a.createElement(Q.a,{size:"large"}))},Y=t(146),Z=t(45);function _(e){return Object(Z.c)(Object(Y.a)({app:L},e))}var ee=Object(x.a)({reducer:_()});var ne=ee,te=g.a.Header,ae=g.a.Content,re=g.a.Sider,oe=r.a.lazy((function(){return Promise.all([t.e(3),t.e(4)]).then(t.bind(null,354)).then(function(){var e=Object(d.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(7).then(t.bind(null,350)).then((function(e){return e.default}));case 2:return a=e.sent,ne.injectReducer("users",a),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())})),ce=r.a.lazy((function(){return t.e(5).then(t.bind(null,351)).then(function(){var e=Object(d.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(6).then(t.bind(null,352)).then((function(e){return e.default}));case 2:return a=e.sent,ne.injectReducer("requestManagement",a),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}));U.propTypes={account:y.a.object,emailMessages:y.a.object,error:y.a.string,idToken:y.a.string};var ie=function(e){var n=Object(l.b)(),t=Object(l.c)((function(e){return e.app})),o=t.token,c=t.loading,i=Object(a.useState)(!1),s=Object(u.a)(i,2),m=s[0],d=s[1];return Object(a.useEffect)((function(){var e=v("token");e&&n(z({token:e}))}),[]),r.a.createElement("div",{className:"app"},r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"Loading ...")},r.a.createElement(f.a,null,r.a.createElement(g.a,null,c&&r.a.createElement(X,null),o&&r.a.createElement(re,{style:{minHeight:"100vh"},trigger:null,collapsible:!0,collapsed:m},r.a.createElement(f.b,{to:"/"},r.a.createElement("div",{className:"logo"})),r.a.createElement($,null)),r.a.createElement(g.a,{className:"site-layout"},o&&r.a.createElement(te,{className:"site-layout-background",style:{padding:0}},r.a.createElement(m?b.a:E.a,{className:"trigger",onClick:function(){return d(!m)}}),r.a.createElement(h.a,{onClick:function(){n(M())},style:{float:"right",margin:14},type:"dashed",danger:!0},"Logout")),r.a.createElement(ae,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280}},r.a.createElement(p.d,null,r.a.createElement(p.a,{exact:!0,from:"/",to:"/users"}),r.a.createElement(W,{path:"/users",component:oe}),r.a.createElement(W,{path:"/request-management",component:ce}),r.a.createElement(p.b,{exact:!0,path:"/login",component:U}),r.a.createElement(p.b,{component:V.a}))))))))};t(298),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{store:(ee.asyncReducers={},ee.injectReducer=function(e,n){ee.asyncReducers[e]=n,ee.replaceReducer(_(ee.asyncReducers))},ee)},r.a.createElement(i.a,null,r.a.createElement(ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[164,1,2]]]);
//# sourceMappingURL=main.745e56c8.chunk.js.map