(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12,19],{409:function(e,a,t){"use strict";t.r(a),t.d(a,"initialState",(function(){return n})),t.d(a,"setRecord",(function(){return c}));var r=t(96),n={record:{}},s=Object(r.b)({name:"userSetting",initialState:n,reducers:{setRecord:function(e,a){e.record=a.payload.record}}}),c=s.actions.setRecord;a.default=s.reducer},483:function(e,a,t){},484:function(e,a,t){},607:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(29),c=(t(483),t(117)),o=t(84),l=t(351),u=(t(484),t(66)),i=t(354),m=t(83),p=t(57),d=t(350),b=t(99),f=t(116),h=t(594),g=t(58),j=t(97),E=(t(42),t(67),t(603)),O=t(355),w=t(590),v=t(41),P=t(62),y=function(e){var a=Object(g.b)(),t=Object(r.useState)(""),s=Object(o.a)(t,2),c=s[0],u=s[1],i=Object(g.c)((function(e){return e.app})),m=i.username,p=i.avatar,d=Object(r.useState)([]),b=Object(o.a)(d,2),f=b[0];b[1];Object(r.useEffect)((function(){var a=Object(v.a)();u(a),e.onsub()}),[]);return n.a.createElement(w.a,{beforeCrop:function(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||l.b.error("You can only upload JPG/PNG file!");var t=e.size/1024/1024<10;return t||l.b.error("Image must smaller than 10MB!"),a&&t},rotate:!0},n.a.createElement(E.a,{action:"http://localhost:5000/api/users/avatar",headers:{Authorization:"Bearer ".concat(c)},fileList:f,onChange:function(t){t.fileList;console.log("Bearer ".concat(c)),e.onsub(),Object(j.d)().then((function(e){a(Object(P.f)({username:m,avatar:e.data.AvatarPath})),200===e.status?l.b.success(e.statusText):l.b.error(e.statusText)})).catch((function(e){l.b.error(e.data.message)}))}},f.length<1&&n.a.createElement(O.a,{size:150,style:{padding:0},src:"".concat("https://gdpr-deploy-backend.herokuapp.com/","/api/users/").concat(p)})))},S={labelCol:{span:6},wrapperCol:{span:14}},F=function(e){var a=i.a.useForm(),t=Object(o.a)(a,1)[0],s=Object(g.b)(),c=Object(r.useState)(),E=Object(o.a)(c,2),O=E[0],w=E[1],v=Object(r.useState)("https://f1.pngfuel.com/png/386/684/972/face-icon-user-icon-design-user-profile-share-icon-avatar-black-and-white-silhouette-png-clip-art.png"),F=Object(o.a)(v,2),k=(F[0],F[1]),I=Object(g.c)((function(e){return e.userSetting})).record,N=Object(r.useState)(!0),A=Object(o.a)(N,2);A[0],A[1];Object(r.useEffect)((function(){s(Object(P.f)({username:I.UserName,avatar:I.AvatarPath})),I.AvatarPath?k("https://gdpr-deploy-backend.herokuapp.com//api/users/"+I.AvatarPath):k("https://f1.pngfuel.com/png/386/684/972/face-icon-user-icon-design-user-profile-share-icon-avatar-black-and-white-silhouette-png-clip-art.png"),w(I.UserId),t.setFieldsValue(I)}),[I]);return n.a.createElement(i.a,Object.assign({form:t,name:"validate_other"},S,{onFinish:function(a){console.log("Received values of form: ",a),console.log("id",O),Object(j.g)(Object(u.a)(Object(u.a)({},a),{},{UserId:O,FirstName:a.FirstName.trim(),LastName:a.LastName.trim()})).then((function(a){console.log("res from update account",a),200===a.status&&l.b.success(a.statusText),e.onSubmitModal()})).catch((function(e){l.b.error(e.data.message)})),e.onSubmitModal()}}),n.a.createElement(i.a.Item,null,n.a.createElement(m.a,{type:"flex",justify:"center",align:"middle"},n.a.createElement(p.a,{span:8}),n.a.createElement(p.a,{span:8},n.a.createElement(m.a,null,n.a.createElement(y,{onsub:e.onSubmitModal}))),n.a.createElement(p.a,{span:8}))),n.a.createElement(i.a.Item,{name:"Email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},n.a.createElement(d.a,{disabled:!0})),n.a.createElement(i.a.Item,{name:"FirstName",label:"First Name",rules:[{required:!0,message:"Please input Firstname!"},{pattern:"(?=[0-9a-zA-Z](.*))",message:"Firstname must not null"}]},n.a.createElement(d.a,null)),n.a.createElement(i.a.Item,{name:"LastName",label:"Last Name",rules:[{required:!0,message:"Please input Lastname!"},{pattern:"(?=[0-9a-zA-Z](.*))",message:"Lastname must not null"}]},n.a.createElement(d.a,null)),n.a.createElement(i.a.Item,{name:"UserName",label:n.a.createElement("span",null,"Username\xa0",n.a.createElement(b.a,{title:"What do you want others to call you?"},n.a.createElement(h.a,null))),rules:[{message:"Please input your username!",whitespace:!0}]},n.a.createElement(d.a,{disabled:!0})),n.a.createElement(i.a.Item,{name:"RoleName",label:"Role permission",rules:[{message:"Please input your role name!",whitespace:!0}]},n.a.createElement(d.a,{disabled:!0})),n.a.createElement(i.a.Item,{wrapperCol:{span:12,offset:6}},n.a.createElement(f.a,{type:"primary",htmlType:"submit"},"Apply New Change")))},k={labelCol:{span:6},wrapperCol:{span:14}},I=function(e){var a=i.a.useForm(),t=Object(o.a)(a,1)[0],s=Object(g.b)(),c=Object(r.useState)(),m=Object(o.a)(c,2),p=(m[0],m[1]),b=Object(r.useState)("https://f1.pngfuel.com/png/386/684/972/face-icon-user-icon-design-user-profile-share-icon-avatar-black-and-white-silhouette-png-clip-art.png"),h=Object(o.a)(b,2),E=(h[0],h[1]),O=Object(g.c)((function(e){return e.userSetting})).record,w=Object(r.useState)(!0),v=Object(o.a)(w,2);v[0],v[1];Object(r.useEffect)((function(){s(Object(P.f)({username:O.UserName,avatar:O.AvatarPath})),O.AvatarPath?E("https://gdpr-deploy-backend.herokuapp.com//api/users/"+O.AvatarPath):E("https://f1.pngfuel.com/png/386/684/972/face-icon-user-icon-design-user-profile-share-icon-avatar-black-and-white-silhouette-png-clip-art.png"),p(O.UserId),t.setFieldsValue(O)}),[O]);return n.a.createElement(i.a,Object.assign({form:t,name:"validate_other"},k,{onFinish:function(a){console.log("Received values of form: ",a),Object(j.h)(Object(u.a)(Object(u.a)({},a),{},{PassWord:a.password})).then((function(a){200===a.status?l.b.success(a.statusText):l.b.error(a.statusText),e.onSubmitModal()})).catch((function(e){l.b.error(e.data.message)})),e.onSubmitModal()}}),n.a.createElement(i.a.Item,{name:"Pass",label:"Old Password",rules:[{required:!0,message:"Please input your old password!"},{min:5,message:"Password must be minimum 5 characters."},{pattern:"(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])",message:"Password must include number, uppercase and lowercase character"}],hasFeedback:!0},n.a.createElement(d.a.Password,null)),n.a.createElement(i.a.Item,{name:"password",label:"New Password",rules:[{required:!0,message:"Please input your password!"},{min:5,message:"Password must be minimum 5 characters."},{pattern:"(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])",message:"Password must include number, uppercase and lowercase character"}],hasFeedback:!0},n.a.createElement(d.a.Password,null)),n.a.createElement(i.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}},{min:5,message:"Password must be minimum 5 characters."},{pattern:"(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])",message:"Password must include number, uppercase and lowercase character"}]},n.a.createElement(d.a.Password,null)),n.a.createElement(i.a.Item,{wrapperCol:{span:12,offset:6}},n.a.createElement(f.a,{type:"primary",htmlType:"submit"},"Change Password")))},N=t(409);var A=function(){var e=Object(g.b)(),a=Object(r.useState)(!1),t=Object(o.a)(a,2),s=(t[0],t[1]);function c(){u()}Object(g.c)((function(e){return e.userSetting})).record,Object(r.useEffect)((function(){c()}),[]);var u=function(){return s(!0),Object(j.d)().then((function(a){s(!1),e(Object(N.setRecord)({record:a.data})),200===a.status||l.b.error(a.statusText)})).catch((function(e){l.b.error(e.data.message)}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(F,{onSubmitModal:c}),n.a.createElement(I,{onSubmitModal:c}))};a.default=function(){var e=Object(s.i)();return n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",null,"Loading ...")},n.a.createElement(s.d,null,n.a.createElement(s.b,{exact:!0,path:e.url,component:A}),n.a.createElement(s.b,{component:c.a})))}}}]);
//# sourceMappingURL=12.a1fa45e8.chunk.js.map