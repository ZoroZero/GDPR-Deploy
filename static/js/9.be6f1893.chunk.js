(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[9,14],{366:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"i",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"h",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return m}));var n=a(39),r=function(){return new Promise((function(e,t){return Object(n.a)({method:"get",url:"/api/servers/all"}).then((function(t){e(t.data)})).catch((function(e){t(e)}))}))},c=function(e){return new Promise((function(t,a){return n.a.get("/api/servers",{params:{pageNumber:e.current,pageSize:e.pageSize,sortColumn:e.sortColumn,sortOrder:e.sortOrder,keyword:e.keyword,filterColumn:e.filterColumn,filterKeys:e.filterKeys}}).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))},i=function(e){return new Promise((function(t,a){return n.a.post("/api/servers",{serverName:e.serverName,ipAddress:e.ipAddress,startDate:e.startDate,endDate:e.endDate}).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))},l=function(e){return new Promise((function(t,a){return n.a.put("/api/servers",{Id:e.id,Name:e.serverName,IpAddress:e.ipAddress,StartDate:e.startDate,EndDate:e.endDate,IsActive:e.status}).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))},s=function(e){return new Promise((function(t,a){return n.a.delete("/api/servers",{params:{id:e.id}}).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))},o=function(e){return new Promise((function(t,a){return n.a.put("/api/servers/multi",{status:e.status,listServer:e.listServer}).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))},u=function(e){return new Promise((function(t,a){return n.a.get("/api/servers/export",{params:{serverName:e.serverName,serverIpList:e.ipAddressList,startDate:e.startDate,endDate:e.endDate,filterColumn:e.filterColumn,filterKeys:e.filterKeys}}).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))},d=function(e){return new Promise((function(t,a){return n.a.post("/api/servers/import",{listServer:e.data}).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))},m=function(e){return new Promise((function(t,a){return n.a.put("/api/servers/recover",{id:e.id}).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))}},370:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={ADD_SERVER_REQUEST:{type:"add",data:null},ADD_SERVER_TYPE:"add",UPDATE_SERVER_TYPE:"update",DEFAULT_FILTER_KEYS:"1,0",DEFAULT_FILTER_COLUMN:"Status",DEFAULT_SORT_COLUMN:"Name",DEFAULT_SORT_ORDER:"ascend",SERVER_EXPORT_FILE:"Server_list"}},374:function(e,t,a){"use strict";a.r(t),a.d(t,"initialState",(function(){return i})),a.d(t,"setFilter",(function(){return o})),a.d(t,"setSort",(function(){return u})),a.d(t,"setData",(function(){return d})),a.d(t,"setRefresh",(function(){return m})),a.d(t,"setListServer",(function(){return f})),a.d(t,"getListServerOptions",(function(){return p}));var n=a(96),r=a(370),c=a(366),i={blockIds:null,sortColumn:r.a.DEFAULT_SORT_COLUMN,sortOrder:r.a.DEFAULT_SORT_ORDER,data:[],refresh:!1,lstServer:[]},l=Object(n.b)({name:"serverManagement",initialState:i,reducers:{setFilter:function(e,t){e.blockIds=t.payload.blockIds},setSort:function(e,t){e.sortColumn=t.payload.sortColumn,e.sortOrder=t.payload.sortOrder},setData:function(e,t){e.data=t.payload.data},setRefresh:function(e,t){e.refresh=t.payload},setListServer:function(e,t){e.lstServer=t.payload.lstServer}}}),s=l.actions,o=s.setFilter,u=s.setSort,d=s.setData,m=s.setRefresh,f=s.setListServer;t.default=l.reducer;var p=function(){return function(e){return new Promise((function(t,a){return Object(c.d)().then((function(a){console.log(a),e(f({lstServer:a.data})),t(a)})).catch((function(e){console.log(e),a(e)}))}))}}},376:function(e,t){},392:function(e,t){},393:function(e,t){},401:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={TIME_FORMAT:"DD/MM/YYYY HH:mm:ss",CUSTOMER_EXPORT_FILE:"customer_list"}},402:function(e,t,a){"use strict";function n(e){var t=e.split(".");return t[t.length-1]}a.d(t,"a",(function(){return n}))},406:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(1),i=a.n(c),l=a(0),s=a(3),o=a.n(s),u=a(59),d=a(64),m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},f={small:8,middle:16,large:24};t.a=function(e){var t,a=l.useContext(d.b),n=a.getPrefixCls,c=a.space,s=a.direction,p=e.size,v=void 0===p?(null===c||void 0===c?void 0:c.size)||"small":p,b=e.align,h=e.className,E=e.children,y=e.direction,O=void 0===y?"horizontal":y,S=e.prefixCls,g=m(e,["size","align","className","children","direction","prefixCls"]),j=Object(u.a)(E),D=j.length;if(0===D)return null;var w=void 0===b&&"horizontal"===O?"center":b,I=n("space",S),C=o()(I,"".concat(I,"-").concat(O),(t={},i()(t,"".concat(I,"-rtl"),"rtl"===s),i()(t,"".concat(I,"-align-").concat(w),w),t),h),T="".concat(I,"-item"),R="rtl"===s?"marginLeft":"marginRight";return l.createElement("div",r()({className:C},g),j.map((function(e,t){return l.createElement("div",{className:T,key:"".concat(T,"-").concat(t),style:t===D-1?{}:i()({},"vertical"===O?"marginBottom":R,"string"===typeof v?f[v]:v)},e)})))}},442:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(1),i=a.n(c),l=a(0),s=a(5),o=a(6),u=a(24),d=a(3),m=a.n(d),f=a(115),p=a(25),v=l.forwardRef((function(e,t){var a,n=e.prefixCls,r=void 0===n?"rc-switch":n,c=e.className,i=e.checked,d=e.defaultChecked,v=e.disabled,b=e.loadingIcon,h=e.checkedChildren,E=e.unCheckedChildren,y=e.onClick,O=e.onChange,S=e.onKeyDown,g=Object(u.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),j=Object(f.a)(!1,{value:i,defaultValue:d}),D=Object(o.a)(j,2),w=D[0],I=D[1];function C(e,t){var a=w;return v||(I(a=e),null===O||void 0===O||O(a,t)),a}var T=m()(r,c,(a={},Object(s.a)(a,"".concat(r,"-checked"),w),Object(s.a)(a,"".concat(r,"-disabled"),v),a));return l.createElement("button",Object.assign({},g,{type:"button",role:"switch","aria-checked":w,disabled:v,className:T,ref:t,onKeyDown:function(e){e.which===p.a.LEFT?C(!1,e):e.which===p.a.RIGHT&&C(!0,e),null===S||void 0===S||S(e)},onClick:function(e){var t=C(!w,e);null===y||void 0===y||y(t,e)}}),b,l.createElement("span",{className:"".concat(r,"-inner")},w?h:E))}));v.displayName="Switch";var b=v,h=a(60),E=a.n(h),y=a(139),O=a(64),S=a(48),g=a(23),j=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},D=l.forwardRef((function(e,t){var a,n=e.prefixCls,c=e.size,s=e.loading,o=e.className,u=void 0===o?"":o,d=e.disabled,f=j(e,["prefixCls","size","loading","className","disabled"]);Object(g.a)("checked"in f||!("value"in f),"Switch","`value` is not a valid prop, do you mean `checked`?");var p=l.useContext(O.b),v=p.getPrefixCls,h=p.direction,D=l.useContext(S.b),w=v("switch",n),I=l.createElement("div",{className:"".concat(w,"-handle")},s&&l.createElement(E.a,{className:"".concat(w,"-loading-icon")})),C=m()(u,(a={},i()(a,"".concat(w,"-small"),"small"===(c||D)),i()(a,"".concat(w,"-loading"),s),i()(a,"".concat(w,"-rtl"),"rtl"===h),a));return l.createElement(y.a,{insertExtraNode:!0},l.createElement(b,r()({},f,{prefixCls:w,className:C,disabled:d||s,ref:t,loadingIcon:I})))}));D.__ANT_SWITCH=!0,D.displayName="Switch";t.a=D},443:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},c=a(47),i=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="ExclamationCircleOutlined";t.a=n.forwardRef(i)},444:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},c=a(47),i=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="DownOutlined";t.a=n.forwardRef(i)},574:function(e,t,a){},595:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},c=a(47),i=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="VerticalAlignBottomOutlined";t.a=n.forwardRef(i)},596:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},c=a(47),i=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="InboxOutlined";t.a=n.forwardRef(i)},608:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),i=a(117),l=a(84),s=a(350),o=a(591),u=a(593),d=a(406),m=a(116),f=a(351),p=a(349),v=a(83),b=a(57),h=a(440),E=a(601),y=a(438),O=(a(574),a(366)),S=a(58),g=a(374),j=a(600),D=a(354),w=a(442),I=a(370),C=a(401),T=a(372),R=a.n(T),x=j.a.RangePicker;var k=function(e){var t=Object(S.c)((function(e){return e.serverManagement})).refresh,a=Object(S.b)(),c=D.a.useForm(),i=Object(l.a)(c,1)[0],u=Object(n.useState)("Create new server"),d=Object(l.a)(u,2),p=d[0],v=d[1],b=Object(n.useState)(!0),h=Object(l.a)(b,2),E=h[0],y=h[1],j=!1!==e.modalVisible;Object(n.useEffect)((function(){j&&(i.setFieldsValue({ServerName:null,IpAddress:null,Time:[null,null]}),v(e.request&&e.request.type===I.a.UPDATE_SERVER_TYPE?"Update server information":"Creat new server"),e.request&&e.request.data&&T())}),[j]);var T=function(){i.setFieldsValue({ServerName:e.request.data.Name,IpAddress:e.request.data.IpAddress,Time:[R()(e.request.data.StartDate,C.a.TIME_FORMAT),R()(e.request.data.EndDate,C.a.TIME_FORMAT)]}),y(e.request.data.IsActive)},k=function(){e.setEditRequest(null),e.setModalVisible(!1)};return r.a.createElement(o.a,{title:p,centered:!0,visible:e.modalVisible,onCancel:k,okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},forceRender:!0,footer:[r.a.createElement(m.a,{form:"myForm",key:"submit",type:"primary",htmlType:"submit"},"Submit"),r.a.createElement(m.a,{key:"cancel",onClick:k},"Cancel")]},r.a.createElement(D.a,{form:i,onFinish:function(n){if(e.request.type===I.a.ADD_SERVER_TYPE)return Object(O.a)({serverName:n.ServerName.trim(),ipAddress:n.IpAddress,startDate:n.Time[0].format(C.a.TIME_FORMAT),endDate:n.Time[1].format(C.a.TIME_FORMAT)}).then((function(n){f.b.success("Sucessfully add new server"),e.setModalVisible(!1),i.resetFields(),a(Object(g.setRefresh)(!t))})).catch((function(e){f.b.error("Something went wrong.\nYour server name or ip is already existed. Please check again")}));if(e.request.type===I.a.UPDATE_SERVER_TYPE){var r=e.request.data.Id;return Object(O.i)({id:r,serverName:n.ServerName.trim(),ipAddress:n.IpAddress,startDate:n.Time[0].format(C.a.TIME_FORMAT),endDate:n.Time[1].format(C.a.TIME_FORMAT),status:E}).then((function(n){f.b.success("Successfully update server information"),e.setModalVisible(!1),i.resetFields(),a(Object(g.setRefresh)(!t))})).catch((function(e){f.b.error("Something went wrong.\nYour server name or ip is already existed. Please check again")}))}},id:"myForm",layout:"vertical"},r.a.createElement(D.a.Item,{label:"Server name",name:"ServerName",rules:[{required:!0,message:"Please input the name of server!"}]},r.a.createElement(s.a,null)),r.a.createElement(D.a.Item,{label:"IP Address",name:"IpAddress",rules:[{required:!0,message:"Please input the ip address of server!"},{pattern:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,message:"Ip format is not correct"}]},r.a.createElement(s.a,null)),r.a.createElement(D.a.Item,{name:"Time",label:"Time",rules:[{required:!0,message:"Please input the ip address of server!"}],style:{display:"inline-block",width:"100%",height:"auto"}},r.a.createElement(x,{showTime:!0,disabledDate:function(e){return e&&e<R()().subtract(1,"day").endOf("day")},format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"}})),e.request&&e.request.type===I.a.UPDATE_SERVER_TYPE&&r.a.createElement(D.a.Item,{name:"Status"},r.a.createElement(w.a,{checkedChildren:"Active",unCheckedChildren:"Inactive",checked:E,onChange:function(e){y(e)}}),r.a.createElement("br",null))))},A=a(443),_=a(186),N=a(403),F=a(444),L=a(391),M=a(373),P=a(595),U=N.a.Option;var V=function(e){var t=Object(S.b)(),a=D.a.useForm(),c=Object(l.a)(a,1)[0],i=Object(n.useState)(null),u=Object(l.a)(i,2),d=u[0],f=u[1],v=Object(n.useState)(""),b=Object(l.a)(v,2),E=b[0],y=b[1],w=I.a.SERVER_EXPORT_FILE,C=Object(S.c)((function(e){return e.serverManagement})).lstServer,T=e.visible;Object(n.useEffect)((function(){T&&t(Object(g.getListServerOptions)())}),[T]);var R=C.filter((function(e){return e.IpAddress.includes(E)})).map((function(e,t){return r.a.createElement(U,{value:e.IpAddress,key:e.IpAddress},e.IpAddress)})),x=function(e){!function(e,t,a){0===e.length&&(e=[{Name:null,IpAddress:null,StartDate:null,EndDate:null,IsActive:null,CreatedBy:null,CreatedDate:null,UpdatedBy:null,UpdatedDate:null,DeletedBy:null,DeletedDate:null,IsDeleted:null}]);var n={Sheets:{data:M.utils.json_to_sheet(e.map((function(e){e.OwnerId,e.OwnerName;return Object(_.a)(e,["OwnerId","OwnerName"])})))},SheetNames:["data"]},r=M.write(n,{bookType:a,type:"array"}),c=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});L.saveAs(c,t+"."+a)}(d,w,e)},k=r.a.createElement(p.a,{onClick:function(e){x(e.key)}},r.a.createElement(p.a.Item,{key:"csv"},r.a.createElement(P.a,null)," .CSV"),r.a.createElement(p.a.Item,{key:"xlsx"},r.a.createElement(P.a,null)," .XLSX")),A=[r.a.createElement(U,{value:"1",key:"active"},"Active"),r.a.createElement(U,{value:"0",key:"inactive"},"Inactive"),r.a.createElement(U,{value:"deleted",key:"deleted"},"Deleted")];return r.a.createElement(o.a,{title:"Export server list",centered:!0,visible:e.visible,onCancel:function(){e.setVisible(!1)},okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},forceRender:!0,width:"70vw"},r.a.createElement(D.a,{form:c,id:"exportForm",onFinish:function(e){var t=I.a.DEFAULT_FILTER_COLUMN,a=I.a.DEFAULT_FILTER_KEYS;return e.Status&&(e.Status.includes("deleted")?1===e.Status.length?t="Deleted":(t="Status+Deleted",a=e.Status.filter((function(e){return"deleted"!==e})).join(",")):(t="Status",a=e.Status.join(","))),Object(O.c)({serverName:e.ServerName?e.ServerName.trim():void 0,ipAddressList:e.IpAddress?e.IpAddress:void 0,startDate:e.FromDate?e.FromDate.format("YYYY-MM-DD HH:mm:ss"):void 0,endDate:e.ToDate?e.ToDate.format("YYYY-MM-DD HH:mm:ss"):void 0,filterColumn:t,filterKeys:a}).then((function(e){f(e.data)}))},layout:"vertical"},r.a.createElement(D.a.Item,null,r.a.createElement(D.a.Item,{label:"Server name",style:{display:"inline-block",width:"calc(50% - 16px)",margin:"0 8px"},name:"ServerName"},r.a.createElement(s.a,null)),r.a.createElement(D.a.Item,{label:"IP Address",style:{display:"inline-block",width:"calc(50% - 16px)",margin:"0 8px"},name:"IpAddress"},r.a.createElement(N.a,{showSearch:!0,onSearch:function(e){y(e)},mode:"multiple"},R))),r.a.createElement(D.a.Item,null,r.a.createElement(D.a.Item,{label:"From date",style:{display:"inline-block",width:"calc(50% - 16px)",margin:"0 8px"},name:"FromDate"},r.a.createElement(j.a,{showTime:!0,style:{width:"100%"}})),r.a.createElement(D.a.Item,{label:"To date",style:{display:"inline-block",width:"calc(50% - 16px)",margin:"0 8px"},name:"ToDate"},r.a.createElement(j.a,{showTime:!0,style:{width:"100%"}}))),r.a.createElement(D.a.Item,null,r.a.createElement(D.a.Item,{label:"Status",name:"Status",style:{display:"inline-block",width:"calc(50% - 16px)",margin:"0 8px"}},r.a.createElement(N.a,{placeholder:"Select a status",mode:"multiple"},A))),r.a.createElement(D.a.Item,null,r.a.createElement(m.a,{form:"exportForm",key:"submit",type:"primary",htmlType:"submit",style:{margin:"0px 8px"}},"Filter"),r.a.createElement(h.a,{overlay:k,disabled:!d,style:{margin:"0px 8px"}},r.a.createElement(m.a,null,r.a.createElement(P.a,null)," Export ",r.a.createElement(F.a,null))))))},z=a(404),Y=a(603),q=a(596),B=a(402),K=Y.a.Dragger;var H=function(e){var t=Object(S.b)(),a=Object(n.useState)([]),c=Object(l.a)(a,2),i=c[0],s=c[1],u=Object(n.useState)(null),d=Object(l.a)(u,2),p=d[0],v=d[1],b=Object(S.c)((function(e){return e.serverManagement})).refresh,h={name:"file",onChange:function(e){var t=Object(z.a)(e.fileList);t=t.slice(-1),s(t),v(t[0]?t[0]:null)},multiple:!1,beforeUpload:function(){return!1},accept:".xlsx, .csv"};return r.a.createElement(o.a,{title:"Import server list",centered:!0,visible:e.visible,onCancel:function(){e.setVisible(!1)},okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},forceRender:!0,width:"70vw",footer:[r.a.createElement(m.a,{key:"submit",type:"primary",onClick:function(){if(p){var a=p.originFileObj;if(["xlsx","csv"].includes(Object(B.a)(a.name))){var n=new FileReader;n.onload=function(a){for(var n="",r=new Uint8Array(a.target.result),c=r.byteLength,i=0;i<c;i++)n+=String.fromCharCode(r[i]);var l=M.read(n,{type:"binary",cellDates:!0,cellStyles:!0}),s=l.SheetNames,o=M.utils.sheet_to_json(l.Sheets[s[0]],{dateNF:"yyyy/mm/dd HH:mm:ss"});Object(O.f)({data:o}).then((function(a){t(Object(g.setRefresh)(!b)),e.setVisible(!1)})).catch((function(e){f.b.error("Some records might be in incorrect format")})).finally((function(){f.b.success("Import server list done")}))},n.readAsArrayBuffer(a)}else f.b.error("Wrong file type")}else f.b.error("No file chosen")},disabled:!p},"Import"),r.a.createElement(m.a,{key:"cancel",onClick:function(){e.setVisible(!1),v(null),s([])}},"Cancel")]},r.a.createElement(K,Object.assign({},h,{fileList:i}),r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(q.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),r.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files")))},X=s.a.Search,W=o.a.confirm;var J=function(){var e=Object(S.b)(),t=Object(S.c)((function(e){return e.serverManagement})).refresh,a=Object(n.useState)([]),c=Object(l.a)(a,2),i=c[0],s=c[1],o=Object(n.useState)(!1),j=Object(l.a)(o,2),D=j[0],w=j[1],C=Object(n.useState)(0),T=Object(l.a)(C,2),R=T[0],x=T[1],_=Object(n.useState)({page:1,pageSize:10}),N=Object(l.a)(_,2),L=N[0],M=N[1],P=Object(n.useState)({sortColumn:I.a.DEFAULT_SORT_COLUMN,sortOrder:I.a.DEFAULT_SORT_ORDER}),U=Object(l.a)(P,2),z=U[0],Y=U[1],q=Object(n.useState)(""),B=Object(l.a)(q,2),K=B[0],J=B[1],Q=Object(n.useState)({filterColumn:I.a.DEFAULT_FILTER_COLUMN,filterKeys:I.a.DEFAULT_FILTER_KEYS}),G=Object(l.a)(Q,2),$=G[0],Z=G[1],ee=Object(n.useState)(!1),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ce=Object(l.a)(re,2),ie=ce[0],le=ce[1],se=Object(n.useState)(!1),oe=Object(l.a)(se,2),ue=oe[0],de=oe[1],me=Object(n.useState)(null),fe=Object(l.a)(me,2),pe=fe[0],ve=fe[1],be=Object(n.useState)([]),he=Object(l.a)(be,2),Ee=he[0],ye=he[1];Object(n.useEffect)((function(){Se(L,z.sortColumn,z.sortOrder,K,$)}),[L,z,K,t,$]),Object(n.useEffect)((function(){je()}),[pe]);var Oe=[{title:"Server",dataIndex:"Name",width:"30%",sorter:!0},{title:"Ip address",dataIndex:"IpAddress",width:"12%",sorter:!0},{title:"Start Date",dataIndex:"StartDate",width:"12%",sorter:!0},{title:"End Date",dataIndex:"EndDate",sorter:!0,width:"12%"},{title:"Status",width:"12%",key:"Status",render:function(e){return e.IsDeleted?r.a.createElement(u.a,{color:"gray"},"Deleted"):e.IsActive?r.a.createElement(u.a,{color:"green"},"Active"):r.a.createElement(u.a,{color:"red"},"InActive")},filters:[{text:"Active",value:"1"},{text:"InActive",value:"0"},{text:"Deleted",value:"deleted"}]},{title:"Owner",dataIndex:"OwnerName",width:"12%",sorter:!0},{title:"Action",key:"operation",width:"10%",render:function(e){return r.a.createElement(d.a,{size:"middle",style:{display:"flex"}},r.a.createElement(m.a,{type:"primary",onClick:function(){ve({type:I.a.UPDATE_SERVER_TYPE,data:e})}},"Edit"),e.IsDeleted?r.a.createElement(m.a,{danger:!0,type:"primary",onClick:function(){Ie(e)}},"Recover"):r.a.createElement(m.a,{danger:!0,type:"primary",onClick:function(){De(e)}},"Delete"))}}],Se=function(e,t,a,n,r){if(!ie)return w(!0),Object(O.e)({current:e.page,pageSize:e.pageSize,sortColumn:t,sortOrder:a,keyword:n,filterColumn:r.filterColumn,filterKeys:r.filterKeys}).then((function(e){w(!1),ge(e.data,e.total),e.total!=R&&ye([]),Re(e.total)})).catch((function(e){}))},ge=function(e,t){x(t),s(e)},je=function(){pe&&ne(!0)},De=function(e){W({title:"Do you want to delete server "+e.Name,icon:r.a.createElement(A.a,null),content:"Warning: The deletion will affect customers",onOk:function(){we(e.Id)},onCancel:function(){}})},we=function(a){return Object(O.b)({id:a}).then((function(a){e(Object(g.setRefresh)(!t))})).catch((function(){return f.b.error("Oops errors!")}))},Ie=function(e){W({title:"Do you want to recover server "+e.Name,icon:r.a.createElement(A.a,null),content:"Warning: You need to edit start date and end date of server",onOk:function(){Ce(e.Id)},onCancel:function(){}})},Ce=function(a){return Object(O.g)({id:a}).then((function(a){e(Object(g.setRefresh)(!t))})).catch((function(){return f.b.error("Oops errors!")}))},Te={selectedRowKeys:Ee,onChange:function(e,t){ye(e)}},Re=function(e){return"Total ".concat(e," items")},xe=r.a.createElement(p.a,{onClick:function(a){var n;n="activate"===a.key,Object(O.h)({listServer:Ee,status:n}).then((function(a){f.b.success("Successfully change status of servers"),e(Object(g.setRefresh)(!t))})).catch((function(e){f.b.error("Something went wrong")}))}},r.a.createElement(p.a.Item,{key:"activate"},"Activate all"),r.a.createElement(p.a.Item,{key:"deactivate"},"Deactivate all"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(b.a,{span:8},r.a.createElement(m.a,{type:"primary",onClick:function(){return ve(I.a.ADD_SERVER_REQUEST)}},"Create new server"),r.a.createElement(k,{request:pe,modalVisible:ae,setModalVisible:ne,setEditRequest:ve})),r.a.createElement(b.a,{span:8,offset:8},r.a.createElement(X,{className:"search-bar",placeholder:"Input search text",enterButton:!0,onSearch:function(e){return t=e.trim(),J(t),M({page:1,pageSize:L.pageSize}),void ye([]);var t}}))),r.a.createElement(v.a,{style:{marginTop:"10px",marginBottom:"10px"}},r.a.createElement(b.a,{span:8},r.a.createElement(h.a,{overlay:xe,disabled:0===Ee.length},r.a.createElement(m.a,null,"Multi actions ",r.a.createElement(F.a,null))),Ee.length>0&&r.a.createElement("div",{style:{display:"inline-block",padding:"0px 20px 0px 20px"}}," ",Ee.length," selected!")),r.a.createElement(b.a,{span:8}),r.a.createElement(b.a,{span:8,style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(m.a,{onClick:function(){de((function(e){return!e}))}},"Import server list"),r.a.createElement(H,{visible:ue,setVisible:de}),r.a.createElement(m.a,{onClick:function(){le((function(e){return!e}))}},"Export server list"),r.a.createElement(V,{id:"export-server",className:"export-server",visible:ie,setVisible:le}))),r.a.createElement(E.a,{columns:Oe,rowKey:function(e){return e.Id},rowSelection:Te,dataSource:i,pagination:!1,loading:D,onChange:function(e,t,a){var n=a.column?a.column.dataIndex:"Name",r="descend"===a.order?"descend":"ascend";Y({sortColumn:n,sortOrder:r});var c=I.a.DEFAULT_FILTER_COLUMN,i=I.a.DEFAULT_FILTER_KEYS;t.Status&&(t.Status.includes("deleted")?1===t.Status.length?c="Deleted":(c="Status+Deleted",i=t.Status.filter((function(e){return"deleted"!==e})).join(",")):(c="Status",i=t.Status.join(","))),$.filterKeys!==i&&M({page:1,pageSize:L.pageSize}),Z({filterColumn:c,filterKeys:i}),ye([])},scroll:{x:1500}}),r.a.createElement(v.a,null,r.a.createElement(b.a,{span:12,offset:6},r.a.createElement(y.a,{showQuickJumper:!0,showSizeChanger:!0,total:R,current:L.page,pageSize:L.pageSize,onChange:function(e,t){var a=e;t!==L.pageSize&&Math.ceil(R/t)<L.pageNumber&&(a=Math.ceil(L.pageSize*L.page/t)),M({page:a,pageSize:t}),ye([])},showTotal:Re,style:{margin:"8px 8px"}}))))},Q=a(73),G=a(75);t.default=function(){var e=Object(G.b)(Q.a);console.log(e.can("access","manage-user"));var t=Object(c.i)();return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading ...")},r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:t.url,component:J}),r.a.createElement(c.b,{component:i.a})))}}}]);
//# sourceMappingURL=9.be6f1893.chunk.js.map