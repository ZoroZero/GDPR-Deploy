{"version":3,"sources":["../node_modules/react-easy-crop/node_modules/tslib/tslib.es6.js","../../src/helpers.ts","../../src/index.tsx","../node_modules/rc-slider/es/common/Track.js","../node_modules/@babel/runtime/helpers/esm/get.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/rc-slider/es/common/Steps.js","../node_modules/rc-slider/es/common/Marks.js","../node_modules/rc-slider/es/Handle.js","../node_modules/rc-slider/es/utils.js","../node_modules/rc-slider/es/common/createSlider.js","../node_modules/rc-slider/es/Slider.js","../node_modules/rc-slider/es/Range.js","../node_modules/antd/es/slider/SliderTooltip.js","../node_modules/antd/es/slider/index.js","../node_modules/antd-img-crop/dist/antd-img-crop.esm.js","../node_modules/@ant-design/icons-svg/es/asn/QuestionCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/QuestionCircleOutlined.js"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__assign","assign","t","s","i","n","arguments","length","prototype","call","apply","this","getCropSize","mediaWidth","mediaHeight","containerWidth","containerHeight","aspect","rotation","_a","width","height","fittingWidth","Math","fittingHeight","restrictPosition","position","mediaSize","cropSize","zoom","x","restrictPositionCoord","y","maxPosition","getDistanceBetweenPoints","pointA","pointB","getRotationBetweenPoints","computeCroppedArea","crop","limitAreaFn","croppedAreaPercentages","widthInPixels","heightInPixels","sizePixels","croppedAreaPixels","limitArea","max","noOp","_max","getInitialCropFromCroppedAreaPixels","mediaZoom","getZoomFromCroppedAreaPixels","cropZoom","getCenter","a","rotateAroundMidPoint","xMid","yMid","degrees","cos","sin","radian","translateSize","centerX","centerY","outerBounds","minX","maxX","minY","classNames","args","value","_this","naturalWidth","naturalHeight","hasWheelJustStarted","e","document","clearTimeout","initialCroppedAreaPixels","_b","mediaRef","imageRef","videoRef","Cropper","passive","window","offsetX","offsetY","requestedPosition","newPosition","point","newZoom","onInteractionStart","onInteractionEnd","Error","zoomPoint","zoomTarget","__","constructor","create","__extends","containerRef","addEventListener","props","prevProps","center","distance","newRotation","image","video","mediaProps","transform","cropShape","showGrid","_c","containerStyle","cropAreaStyle","mediaStyle","_d","containerClassName","cropAreaClassName","mediaClassName","onMouseDown","onTouchStart","ref","el","style","className","alt","src","onLoad","onMediaLoad","autoPlay","loop","muted","onLoadedMetadata","controls","state","maxZoom","minZoom","classes","zoomSpeed","zoomWithScroll","Number","touch","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","target","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","Track","_ref","_ref2","included","vertical","offset","reverse","abs","positonStyle","concat","elStyle","React","createElement","property","receiver","Reflect","get","base","getPrototypeOf","desc","Steps","prefixCls","marks","dots","step","lowerBound","upperBound","min","dotStyle","activeDotStyle","range","elements","warning","points","map","parseFloat","sort","indexOf","calcPoints","_classNames","isActived","pointClassName","Marks","onClickLabel","marksKeys","markPoint","markPointIsObject","_typeof","isValidElement","markLabel","label","isActive","markClassName","bottomStyle","marginBottom","leftStyle","msTransform","markStyle","_createSuper","Derived","hasNativeReflectConstruct","construct","sham","Proxy","Date","toString","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","Handle","_React$Component","_inherits","_super","_classCallCheck","clickFocused","setHandleRef","node","handle","handleMouseUp","activeElement","setClickFocus","handleMouseDown","preventDefault","focus","handleBlur","handleKeyDown","_createClass","onMouseUpListener","remove","focused","setState","blur","ariaValueText","_this$props","disabled","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter","restProps","_objectWithoutProperties","positionStyle","mergedTabIndex","onBlur","onKeyDown","role","Component","isEventFromHandle","handles","some","findDOMNode","error","isValueOutOfRange","isNotTouchEvent","touches","type","toLowerCase","getClosestPoint","val","maxSteps","floor","steps","closestStep","round","diffs","_toConsumableArray","getMousePosition","clientY","pageX","getTouchPosition","getHandleCenterPosition","coords","getBoundingClientRect","top","pageXOffset","left","ensureValueInRange","_ref3","ensureValuePrecision","closestPoint","isFinite","toFixed","stepString","precision","getPrecision","pauseEvent","stopPropagation","getKeyboardValueMutator","method","keyCode","UP","RIGHT","DOWN","LEFT","END","HOME","PAGE_UP","PAGE_DOWN","func","operations","increase","decrease","indexToGet","JSON","stringify","keyToGet","calculateNextValue","noop","createSlider","_Component","ComponentEnhancer","button","isVertical","utils","handlesRefs","handlePosition","dragOffset","removeDocumentEvents","onStart","addDocumentMouseEvents","addDocumentTouchEvents","onFocus","onEnd","onMouseUp","prevMovedHandleIndex","clickFocus","onMouseMove","sliderRef","onMove","onTouchMove","onKeyboard","onClickMarkLabel","onChange","saveSlider","slider","isPointDiffEven","ownerDocument","_this$props2","autoFocus","_get","_this$props3","rect","bottom","right","onTouchMoveListener","onTouchUpListener","onMouseMoveListener","_this2","_this$props4","ratio","getSliderLength","pixelOffset","getSliderStart","trimAlignValue","calcValue","_this$props5","index","_this$props6","children","maximumTrackStyle","railStyle","_get$call","tracks","sliderClassName","getLowerBound","getUpperBound","displayName","defaultProps","dragging","onBeforeChange","onAfterChange","trackStyle","handleStyle","Slider","force","getValue","defaultValue","undefined","h","_","prevState","theValue","nextValue","isNotControlled","nextState","changedValue","prevValue","calcValueByPos","startValue","startPosition","oldValue","valueMutator","mutatedValue","v","nextProps","mergedProps","minimumTrackStyle","ariaLabelForHandle","ariaLabelledByForHandle","ariaValueTextFormatterForHandle","startPoint","handleGenerator","_this$state","calcOffset","saveHandle","trackOffset","mergedTrackStyle","_trimAlignValue","bounds","allowCross","pushable","thershold","valInRange","valNotConflict","Range","count","initialValue","recent","shallowEqual","currentValue","controlledState","item","closestBound","getClosestBound","getBoundNeedMoving","nextBounds","moveTo","boundNeedMoving","isAtTheSamePoint","cache","internalPointsCache","pointsObject","isFromKeyboardEvent","_this3","nextHandle","pushSurroundingHandles","threshold","direction","diffToNext","pushHandle","amount","originalValue","pushHandleOnePoint","getPoints","nextPointIndex","_this$state2","_this4","_this$state3","ariaLabelGroupForHandles","ariaLabelledByGroupForHandles","ariaValueTextFormatterGroupForHandles","offsets","handleClassName","slice","_classNames2","trackClassName","every","SliderTooltip","visible","tooltipRef","_len","refs","_key","targetRef","current","useCombinedRefs","rafRef","cancelKeepAlign","cancelAnimationFrame","keepAlign","requestAnimationFrame","forcePopupAlign","Tooltip","_extends","__rest","propertyIsEnumerable","_React$useContext","ConfigContext","getPrefixCls","getPopupContainer","_React$useState","_React$useState2","_slicedToArray","visibles","setVisibles","toggleTooltipVisible","prev","getTooltipPlacement","tooltipPlacement","handleWithTooltip","tooltipPrefixCls","info","tipFormatter","tooltipVisible","getTooltipPopupContainer","isTipFormatter","title","placement","transitionName","overlayClassName","body","RcHandle","onMouseEnter","onMouseLeave","customizePrefixCls","customizeTooltipPrefixCls","cls","RcRange","RcSlider","css","setAttribute","innerHTML","head","appendChild","__$styleInject","pkg","EasyCrop","forwardRef","shape","grid","hasZoom","zoomVal","rotateVal","setZoomVal","setRotateVal","onComplete","_useState","useState","setCrop","onCropComplete","useCallback","croppedArea","onCropChange","onZoomChange","onRotationChange","propTypes","string","number","bool","ImgCrop","rotate","beforeCrop","modalTitle","modalWidth","modalOk","modalCancel","hasRotate","modalTextProps","okText","cancelText","_useState2","setSrc","_useState3","_useState4","beforeUploadRef","useRef","fileRef","resolveRef","rejectRef","cropPixelsRef","renderUpload","upload","isArray","_upload$props","beforeUpload","accept","restUploadProps","_objectWithoutPropertiesLoose","file","fileList","Promise","resolve","reject","reader","FileReader","readAsDataURL","isMinZoom","isMaxZoom","isMinRotate","isMaxRotate","subZoomVal","addZoomVal","subRotateVal","addRotateVal","onClose","onOk","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","naturalImg","canvas","ctx","maxLen","halfMax","maxImgData","_cropPixelsRef$curren","_fileRef$current","name","uid","wrap","_context2","next","querySelector","getContext","sqrt","pow","translate","PI","drawImage","getImageData","putImageData","toBlob","_callee","blob","newFile","res","passedFile","_type","_context","lastModifiedDate","now","abrupt","console","then","sent","t0","stop","_x","LocaleReceiver","locale","localeCode","Fragment","Modal","wrapClassName","onCancel","maskClosable","destroyOnClose","onClick","oneOf","oneOfType","QuestionCircleOutlined","AntdIcon","icon","QuestionCircleOutlinedSvg"],"mappings":"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","file":"static/js/17.7aa6b185.chunk.js","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Area, MediaSize, Point, Size } from './types'\n\n/**\n * Compute the dimension of the crop area based on media size,\n * aspect ratio and optionally rotation\n */\nexport function getCropSize(\n  mediaWidth: number,\n  mediaHeight: number,\n  containerWidth: number,\n  containerHeight: number,\n  aspect: number,\n  rotation = 0\n): Size {\n  const { width, height } = translateSize(mediaWidth, mediaHeight, rotation)\n  const fittingWidth = Math.min(width, containerWidth)\n  const fittingHeight = Math.min(height, containerHeight)\n\n  if (fittingWidth > fittingHeight * aspect) {\n    return {\n      width: fittingHeight * aspect,\n      height: fittingHeight,\n    }\n  }\n\n  return {\n    width: fittingWidth,\n    height: fittingWidth / aspect,\n  }\n}\n\n/**\n * Ensure a new media position stays in the crop area.\n */\nexport function restrictPosition(\n  position: Point,\n  mediaSize: Size,\n  cropSize: Size,\n  zoom: number,\n  rotation = 0\n): Point {\n  const { width, height } = translateSize(mediaSize.width, mediaSize.height, rotation)\n\n  return {\n    x: restrictPositionCoord(position.x, width, cropSize.width, zoom),\n    y: restrictPositionCoord(position.y, height, cropSize.height, zoom),\n  }\n}\n\nfunction restrictPositionCoord(\n  position: number,\n  mediaSize: number,\n  cropSize: number,\n  zoom: number\n): number {\n  const maxPosition = (mediaSize * zoom) / 2 - cropSize / 2\n  return Math.min(maxPosition, Math.max(position, -maxPosition))\n}\n\nexport function getDistanceBetweenPoints(pointA: Point, pointB: Point) {\n  return Math.sqrt(Math.pow(pointA.y - pointB.y, 2) + Math.pow(pointA.x - pointB.x, 2))\n}\n\nexport function getRotationBetweenPoints(pointA: Point, pointB: Point) {\n  return (Math.atan2(pointB.y - pointA.y, pointB.x - pointA.x) * 180) / Math.PI\n}\n\n/**\n * Compute the output cropped area of the media in percentages and pixels.\n * x/y are the top-left coordinates on the src media\n */\nexport function computeCroppedArea(\n  crop: Point,\n  mediaSize: MediaSize,\n  cropSize: Size,\n  aspect: number,\n  zoom: number,\n  rotation = 0,\n  restrictPosition = true\n): { croppedAreaPercentages: Area; croppedAreaPixels: Area } {\n  // if the media is rotated by the user, we cannot limit the position anymore\n  // as it might need to be negative.\n  const limitAreaFn = restrictPosition && rotation === 0 ? limitArea : noOp\n  const croppedAreaPercentages = {\n    x: limitAreaFn(\n      100,\n      (((mediaSize.width - cropSize.width / zoom) / 2 - crop.x / zoom) / mediaSize.width) * 100\n    ),\n    y: limitAreaFn(\n      100,\n      (((mediaSize.height - cropSize.height / zoom) / 2 - crop.y / zoom) / mediaSize.height) * 100\n    ),\n    width: limitAreaFn(100, ((cropSize.width / mediaSize.width) * 100) / zoom),\n    height: limitAreaFn(100, ((cropSize.height / mediaSize.height) * 100) / zoom),\n  }\n\n  // we compute the pixels size naively\n  const widthInPixels = Math.round(\n    limitAreaFn(\n      mediaSize.naturalWidth,\n      (croppedAreaPercentages.width * mediaSize.naturalWidth) / 100\n    )\n  )\n  const heightInPixels = Math.round(\n    limitAreaFn(\n      mediaSize.naturalHeight,\n      (croppedAreaPercentages.height * mediaSize.naturalHeight) / 100\n    )\n  )\n  const isImgWiderThanHigh = mediaSize.naturalWidth >= mediaSize.naturalHeight * aspect\n\n  // then we ensure the width and height exactly match the aspect (to avoid rounding approximations)\n  // if the media is wider than high, when zoom is 0, the crop height will be equals to iamge height\n  // thus we want to compute the width from the height and aspect for accuracy.\n  // Otherwise, we compute the height from width and aspect.\n  const sizePixels = isImgWiderThanHigh\n    ? {\n        width: Math.round(heightInPixels * aspect),\n        height: heightInPixels,\n      }\n    : {\n        width: widthInPixels,\n        height: Math.round(widthInPixels / aspect),\n      }\n  const croppedAreaPixels = {\n    ...sizePixels,\n    x: Math.round(\n      limitAreaFn(\n        mediaSize.naturalWidth - sizePixels.width,\n        (croppedAreaPercentages.x * mediaSize.naturalWidth) / 100\n      )\n    ),\n    y: Math.round(\n      limitAreaFn(\n        mediaSize.naturalHeight - sizePixels.height,\n        (croppedAreaPercentages.y * mediaSize.naturalHeight) / 100\n      )\n    ),\n  }\n  return { croppedAreaPercentages, croppedAreaPixels }\n}\n\n/**\n * Ensure the returned value is between 0 and max\n */\nfunction limitArea(max: number, value: number): number {\n  return Math.min(max, Math.max(0, value))\n}\n\nfunction noOp(_max: number, value: number) {\n  return value\n}\n\n/**\n * Compute the crop and zoom from the croppedAreaPixels\n */\nfunction getZoomFromCroppedAreaPixels(\n  croppedAreaPixels: Area,\n  mediaSize: MediaSize,\n  cropSize?: Size\n): number {\n  const mediaZoom = mediaSize.width / mediaSize.naturalWidth\n\n  if (cropSize) {\n    const isHeightMaxSize = cropSize.height > cropSize.width\n    return isHeightMaxSize\n      ? cropSize.height / mediaZoom / croppedAreaPixels.height\n      : cropSize.width / mediaZoom / croppedAreaPixels.width\n  }\n\n  const aspect = croppedAreaPixels.width / croppedAreaPixels.height\n  const isHeightMaxSize = mediaSize.naturalWidth >= mediaSize.naturalHeight * aspect\n  return isHeightMaxSize\n    ? mediaSize.naturalHeight / croppedAreaPixels.height\n    : mediaSize.naturalWidth / croppedAreaPixels.width\n}\n\n/**\n * Compute the crop and zoom from the croppedAreaPixels\n */\nexport function getInitialCropFromCroppedAreaPixels(\n  croppedAreaPixels: Area,\n  mediaSize: MediaSize,\n  cropSize?: Size\n): { crop: Point; zoom: number } {\n  const mediaZoom = mediaSize.width / mediaSize.naturalWidth\n\n  const zoom = getZoomFromCroppedAreaPixels(croppedAreaPixels, mediaSize, cropSize)\n\n  const cropZoom = mediaZoom * zoom\n\n  const crop = {\n    x: ((mediaSize.naturalWidth - croppedAreaPixels.width) / 2 - croppedAreaPixels.x) * cropZoom,\n    y: ((mediaSize.naturalHeight - croppedAreaPixels.height) / 2 - croppedAreaPixels.y) * cropZoom,\n  }\n  return { crop, zoom }\n}\n\n/**\n * Return the point that is the center of point a and b\n */\nexport function getCenter(a: Point, b: Point): Point {\n  return {\n    x: (b.x + a.x) / 2,\n    y: (b.y + a.y) / 2,\n  }\n}\n\n/**\n *\n * Returns an x,y point once rotated around xMid,yMid\n */\nexport function rotateAroundMidPoint(\n  x: number,\n  y: number,\n  xMid: number,\n  yMid: number,\n  degrees: number\n): [number, number] {\n  const cos = Math.cos\n  const sin = Math.sin\n  const radian = (degrees * Math.PI) / 180 // Convert to radians\n  // Subtract midpoints, so that midpoint is translated to origin\n  // and add it in the end again\n  const xr = (x - xMid) * cos(radian) - (y - yMid) * sin(radian) + xMid\n  const yr = (x - xMid) * sin(radian) + (y - yMid) * cos(radian) + yMid\n\n  return [xr, yr]\n}\n\n/**\n * Returns the new bounding area of a rotated rectangle.\n */\nexport function translateSize(width: number, height: number, rotation: number): Size {\n  const centerX = width / 2\n  const centerY = height / 2\n\n  const outerBounds = [\n    rotateAroundMidPoint(0, 0, centerX, centerY, rotation),\n    rotateAroundMidPoint(width, 0, centerX, centerY, rotation),\n    rotateAroundMidPoint(width, height, centerX, centerY, rotation),\n    rotateAroundMidPoint(0, height, centerX, centerY, rotation),\n  ]\n\n  const minX = Math.min(...outerBounds.map(p => p[0]))\n  const maxX = Math.max(...outerBounds.map(p => p[0]))\n  const minY = Math.min(...outerBounds.map(p => p[1]))\n  const maxY = Math.max(...outerBounds.map(p => p[1]))\n\n  return { width: maxX - minX, height: maxY - minY }\n}\n\n/**\n * Combine multiple class names into a single string.\n */\nexport function classNames(...args: (boolean | string | number | undefined | void | null)[]) {\n  return args\n    .filter(value => {\n      if (typeof value === 'string' && value.length > 0) {\n        return true\n      }\n\n      return false\n    })\n    .join(' ')\n    .trim()\n}\n","import React from 'react'\nimport { Area, MediaSize, Point, Size } from './types'\nimport {\n  getCropSize,\n  restrictPosition,\n  getDistanceBetweenPoints,\n  getRotationBetweenPoints,\n  computeCroppedArea,\n  getCenter,\n  getInitialCropFromCroppedAreaPixels,\n  classNames,\n} from './helpers'\nimport cssStyles from './styles.css'\n\ntype Props = {\n  image?: string\n  video?: string\n  transform?: string\n  crop: Point\n  zoom: number\n  rotation: number\n  aspect: number\n  minZoom: number\n  maxZoom: number\n  cropShape: 'rect' | 'round'\n  cropSize?: Size\n  showGrid?: boolean\n  zoomSpeed: number\n  zoomWithScroll?: boolean\n  onCropChange: (location: Point) => void\n  onZoomChange?: (zoom: number) => void\n  onRotationChange?: (rotation: number) => void\n  onCropComplete?: (croppedArea: Area, croppedAreaPixels: Area) => void\n  onInteractionStart?: () => void\n  onInteractionEnd?: () => void\n  onMediaLoaded?: (mediaSize: MediaSize) => void\n  style: {\n    containerStyle?: React.CSSProperties\n    mediaStyle?: React.CSSProperties\n    cropAreaStyle?: React.CSSProperties\n  }\n  classes: {\n    containerClassName?: string\n    mediaClassName?: string\n    cropAreaClassName?: string\n  }\n  restrictPosition: boolean\n  initialCroppedAreaPixels?: Area\n  mediaProps: React.ImgHTMLAttributes<HTMLElement> | React.VideoHTMLAttributes<HTMLElement>\n  disableAutomaticStylesInjection?: boolean\n}\n\ntype State = {\n  cropSize: Size | null\n  hasWheelJustStarted: boolean\n}\n\nconst MIN_ZOOM = 1\nconst MAX_ZOOM = 3\n\nclass Cropper extends React.Component<Props, State> {\n  static defaultProps = {\n    zoom: 1,\n    rotation: 0,\n    aspect: 4 / 3,\n    maxZoom: MAX_ZOOM,\n    minZoom: MIN_ZOOM,\n    cropShape: 'rect',\n    showGrid: true,\n    style: {},\n    classes: {},\n    mediaProps: {},\n    zoomSpeed: 1,\n    restrictPosition: true,\n    zoomWithScroll: true,\n  }\n\n  imageRef: HTMLImageElement | null = null\n  videoRef: HTMLVideoElement | null = null\n  containerRef: HTMLDivElement | null = null\n  styleRef: HTMLStyleElement | null = null\n  containerRect: DOMRect | null = null\n  mediaSize: MediaSize = { width: 0, height: 0, naturalWidth: 0, naturalHeight: 0 }\n  dragStartPosition: Point = { x: 0, y: 0 }\n  dragStartCrop: Point = { x: 0, y: 0 }\n  lastPinchDistance = 0\n  lastPinchRotation = 0\n  rafDragTimeout: number | null = null\n  rafPinchTimeout: number | null = null\n  wheelTimer: number | null = null\n\n  state: State = {\n    cropSize: null,\n    hasWheelJustStarted: false,\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.computeSizes)\n    if (this.containerRef) {\n      this.props.zoomWithScroll &&\n        this.containerRef.addEventListener('wheel', this.onWheel, { passive: false })\n      this.containerRef.addEventListener('gesturestart', this.preventZoomSafari)\n      this.containerRef.addEventListener('gesturechange', this.preventZoomSafari)\n    }\n\n    if (!this.props.disableAutomaticStylesInjection) {\n      this.styleRef = document.createElement('style')\n      this.styleRef.setAttribute('type', 'text/css')\n      this.styleRef.innerHTML = cssStyles\n      document.head.appendChild(this.styleRef)\n    }\n\n    // when rendered via SSR, the image can already be loaded and its onLoad callback will never be called\n    if (this.imageRef && this.imageRef.complete) {\n      this.onMediaLoad()\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.computeSizes)\n    if (this.containerRef) {\n      this.containerRef.removeEventListener('gesturestart', this.preventZoomSafari)\n      this.containerRef.removeEventListener('gesturechange', this.preventZoomSafari)\n    }\n\n    if (this.styleRef) {\n      this.styleRef.remove()\n    }\n\n    this.cleanEvents()\n    this.props.zoomWithScroll && this.clearScrollEvent()\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.rotation !== this.props.rotation) {\n      this.computeSizes()\n      this.recomputeCropPosition()\n    } else if (prevProps.aspect !== this.props.aspect) {\n      this.computeSizes()\n    } else if (prevProps.zoom !== this.props.zoom) {\n      this.recomputeCropPosition()\n    } else if (\n      prevProps.cropSize?.height !== this.props.cropSize?.height ||\n      prevProps.cropSize?.width !== this.props.cropSize?.width\n    ) {\n      this.computeSizes()\n    }\n    if (prevProps.zoomWithScroll !== this.props.zoomWithScroll && this.containerRef) {\n      this.props.zoomWithScroll\n        ? this.containerRef.addEventListener('wheel', this.onWheel, { passive: false })\n        : this.clearScrollEvent()\n    }\n  }\n\n  // this is to prevent Safari on iOS >= 10 to zoom the page\n  preventZoomSafari = (e: Event) => e.preventDefault()\n\n  cleanEvents = () => {\n    document.removeEventListener('mousemove', this.onMouseMove)\n    document.removeEventListener('mouseup', this.onDragStopped)\n    document.removeEventListener('touchmove', this.onTouchMove)\n    document.removeEventListener('touchend', this.onDragStopped)\n  }\n\n  clearScrollEvent = () => {\n    if (this.containerRef) this.containerRef.removeEventListener('wheel', this.onWheel)\n    if (this.wheelTimer) {\n      clearTimeout(this.wheelTimer)\n    }\n  }\n\n  onMediaLoad = () => {\n    this.computeSizes()\n    this.emitCropData()\n    this.setInitialCrop()\n\n    if (this.props.onMediaLoaded) {\n      this.props.onMediaLoaded(this.mediaSize)\n    }\n  }\n\n  setInitialCrop = () => {\n    const { initialCroppedAreaPixels, cropSize } = this.props\n\n    if (!initialCroppedAreaPixels) {\n      return\n    }\n\n    const { crop, zoom } = getInitialCropFromCroppedAreaPixels(\n      initialCroppedAreaPixels,\n      this.mediaSize,\n      cropSize\n    )\n    this.props.onCropChange(crop)\n    this.props.onZoomChange && this.props.onZoomChange(zoom)\n  }\n\n  getAspect() {\n    const { cropSize, aspect } = this.props\n    if (cropSize) {\n      return cropSize.width / cropSize.height\n    }\n    return aspect\n  }\n\n  computeSizes = () => {\n    const mediaRef = this.imageRef || this.videoRef\n    if (mediaRef && this.containerRef) {\n      this.containerRect = this.containerRef.getBoundingClientRect()\n\n      this.mediaSize = {\n        width: mediaRef.offsetWidth,\n        height: mediaRef.offsetHeight,\n        naturalWidth: this.imageRef?.naturalWidth || this.videoRef?.videoWidth || 0,\n        naturalHeight: this.imageRef?.naturalHeight || this.videoRef?.videoHeight || 0,\n      }\n      const cropSize = this.props.cropSize\n        ? this.props.cropSize\n        : getCropSize(\n            mediaRef.offsetWidth,\n            mediaRef.offsetHeight,\n            this.containerRect.width,\n            this.containerRect.height,\n            this.props.aspect,\n            this.props.rotation\n          )\n      this.setState({ cropSize }, this.recomputeCropPosition)\n    }\n  }\n\n  static getMousePoint = (e: MouseEvent | React.MouseEvent) => ({\n    x: Number(e.clientX),\n    y: Number(e.clientY),\n  })\n\n  static getTouchPoint = (touch: Touch | React.Touch) => ({\n    x: Number(touch.clientX),\n    y: Number(touch.clientY),\n  })\n\n  onMouseDown = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    e.preventDefault()\n    document.addEventListener('mousemove', this.onMouseMove)\n    document.addEventListener('mouseup', this.onDragStopped)\n    this.onDragStart(Cropper.getMousePoint(e))\n  }\n\n  onMouseMove = (e: MouseEvent) => this.onDrag(Cropper.getMousePoint(e))\n\n  onTouchStart = (e: React.TouchEvent<HTMLDivElement>) => {\n    e.preventDefault()\n    document.addEventListener('touchmove', this.onTouchMove, { passive: false }) // iOS 11 now defaults to passive: true\n    document.addEventListener('touchend', this.onDragStopped)\n    if (e.touches.length === 2) {\n      this.onPinchStart(e)\n    } else if (e.touches.length === 1) {\n      this.onDragStart(Cropper.getTouchPoint(e.touches[0]))\n    }\n  }\n\n  onTouchMove = (e: TouchEvent) => {\n    // Prevent whole page from scrolling on iOS.\n    e.preventDefault()\n    if (e.touches.length === 2) {\n      this.onPinchMove(e)\n    } else if (e.touches.length === 1) {\n      this.onDrag(Cropper.getTouchPoint(e.touches[0]))\n    }\n  }\n\n  onDragStart = ({ x, y }: Point) => {\n    this.dragStartPosition = { x, y }\n    this.dragStartCrop = { ...this.props.crop }\n    this.props.onInteractionStart?.()\n  }\n\n  onDrag = ({ x, y }: Point) => {\n    if (this.rafDragTimeout) window.cancelAnimationFrame(this.rafDragTimeout)\n\n    this.rafDragTimeout = window.requestAnimationFrame(() => {\n      if (!this.state.cropSize) return\n      if (x === undefined || y === undefined) return\n      const offsetX = x - this.dragStartPosition.x\n      const offsetY = y - this.dragStartPosition.y\n      const requestedPosition = {\n        x: this.dragStartCrop.x + offsetX,\n        y: this.dragStartCrop.y + offsetY,\n      }\n\n      const newPosition = this.props.restrictPosition\n        ? restrictPosition(\n            requestedPosition,\n            this.mediaSize,\n            this.state.cropSize,\n            this.props.zoom,\n            this.props.rotation\n          )\n        : requestedPosition\n      this.props.onCropChange(newPosition)\n    })\n  }\n\n  onDragStopped = () => {\n    this.cleanEvents()\n    this.emitCropData()\n    this.props.onInteractionEnd?.()\n  }\n\n  onPinchStart(e: React.TouchEvent<HTMLDivElement>) {\n    const pointA = Cropper.getTouchPoint(e.touches[0])\n    const pointB = Cropper.getTouchPoint(e.touches[1])\n    this.lastPinchDistance = getDistanceBetweenPoints(pointA, pointB)\n    this.lastPinchRotation = getRotationBetweenPoints(pointA, pointB)\n    this.onDragStart(getCenter(pointA, pointB))\n  }\n\n  onPinchMove(e: TouchEvent) {\n    const pointA = Cropper.getTouchPoint(e.touches[0])\n    const pointB = Cropper.getTouchPoint(e.touches[1])\n    const center = getCenter(pointA, pointB)\n    this.onDrag(center)\n\n    if (this.rafPinchTimeout) window.cancelAnimationFrame(this.rafPinchTimeout)\n    this.rafPinchTimeout = window.requestAnimationFrame(() => {\n      const distance = getDistanceBetweenPoints(pointA, pointB)\n      const newZoom = this.props.zoom * (distance / this.lastPinchDistance)\n      this.setNewZoom(newZoom, center)\n      this.lastPinchDistance = distance\n\n      const rotation = getRotationBetweenPoints(pointA, pointB)\n      const newRotation = this.props.rotation + (rotation - this.lastPinchRotation)\n      this.props.onRotationChange && this.props.onRotationChange(newRotation)\n      this.lastPinchRotation = rotation\n    })\n  }\n\n  onWheel = (e: WheelEvent) => {\n    e.preventDefault()\n    const point = Cropper.getMousePoint(e)\n    const newZoom = this.props.zoom - (e.deltaY * this.props.zoomSpeed) / 200\n    this.setNewZoom(newZoom, point)\n\n    if (!this.state.hasWheelJustStarted) {\n      this.setState({ hasWheelJustStarted: true }, () => this.props.onInteractionStart?.())\n    }\n\n    if (this.wheelTimer) {\n      clearTimeout(this.wheelTimer)\n    }\n    this.wheelTimer = window.setTimeout(\n      () => this.setState({ hasWheelJustStarted: false }, () => this.props.onInteractionEnd?.()),\n      250\n    )\n  }\n\n  getPointOnContainer = ({ x, y }: Point) => {\n    if (!this.containerRect) {\n      throw new Error('The Cropper is not mounted')\n    }\n    return {\n      x: this.containerRect.width / 2 - (x - this.containerRect.left),\n      y: this.containerRect.height / 2 - (y - this.containerRect.top),\n    }\n  }\n\n  getPointOnMedia = ({ x, y }: Point) => {\n    const { crop, zoom } = this.props\n    return {\n      x: (x + crop.x) / zoom,\n      y: (y + crop.y) / zoom,\n    }\n  }\n\n  setNewZoom = (zoom: number, point: Point) => {\n    if (!this.state.cropSize || !this.props.onZoomChange) return\n\n    const zoomPoint = this.getPointOnContainer(point)\n    const zoomTarget = this.getPointOnMedia(zoomPoint)\n    const newZoom = Math.min(this.props.maxZoom, Math.max(zoom, this.props.minZoom))\n    const requestedPosition = {\n      x: zoomTarget.x * newZoom - zoomPoint.x,\n      y: zoomTarget.y * newZoom - zoomPoint.y,\n    }\n    const newPosition = this.props.restrictPosition\n      ? restrictPosition(\n          requestedPosition,\n          this.mediaSize,\n          this.state.cropSize,\n          newZoom,\n          this.props.rotation\n        )\n      : requestedPosition\n\n    this.props.onCropChange(newPosition)\n    this.props.onZoomChange(newZoom)\n  }\n\n  emitCropData = () => {\n    if (!this.state.cropSize) return\n    // this is to ensure the crop is correctly restricted after a zoom back (https://github.com/ricardo-ch/react-easy-crop/issues/6)\n    const restrictedPosition = this.props.restrictPosition\n      ? restrictPosition(\n          this.props.crop,\n          this.mediaSize,\n          this.state.cropSize,\n          this.props.zoom,\n          this.props.rotation\n        )\n      : this.props.crop\n    const { croppedAreaPercentages, croppedAreaPixels } = computeCroppedArea(\n      restrictedPosition,\n      this.mediaSize,\n      this.state.cropSize,\n      this.getAspect(),\n      this.props.zoom,\n      this.props.rotation,\n      this.props.restrictPosition\n    )\n    this.props.onCropComplete &&\n      this.props.onCropComplete(croppedAreaPercentages, croppedAreaPixels)\n  }\n\n  recomputeCropPosition = () => {\n    if (!this.state.cropSize) return\n\n    const newPosition = this.props.restrictPosition\n      ? restrictPosition(\n          this.props.crop,\n          this.mediaSize,\n          this.state.cropSize,\n          this.props.zoom,\n          this.props.rotation\n        )\n      : this.props.crop\n    this.props.onCropChange(newPosition)\n    this.emitCropData()\n  }\n\n  render() {\n    const {\n      image,\n      video,\n      mediaProps,\n      transform,\n      crop: { x, y },\n      rotation,\n      zoom,\n      cropShape,\n      showGrid,\n      style: { containerStyle, cropAreaStyle, mediaStyle },\n      classes: { containerClassName, cropAreaClassName, mediaClassName },\n    } = this.props\n\n    return (\n      <div\n        onMouseDown={this.onMouseDown}\n        onTouchStart={this.onTouchStart}\n        ref={el => (this.containerRef = el)}\n        data-testid=\"container\"\n        style={containerStyle}\n        className={classNames('reactEasyCrop_Container', containerClassName)}\n      >\n        {image ? (\n          <img\n            alt=\"\"\n            className={classNames('reactEasyCrop_Image', mediaClassName)}\n            {...(mediaProps as React.ImgHTMLAttributes<HTMLElement>)}\n            src={image}\n            ref={(el: HTMLImageElement) => (this.imageRef = el)}\n            style={{\n              ...mediaStyle,\n              transform:\n                transform || `translate(${x}px, ${y}px) rotate(${rotation}deg) scale(${zoom})`,\n            }}\n            onLoad={this.onMediaLoad}\n          />\n        ) : (\n          video && (\n            <video\n              autoPlay\n              loop\n              muted={true}\n              className={classNames('reactEasyCrop_Video', mediaClassName)}\n              {...mediaProps}\n              src={video}\n              ref={(el: HTMLVideoElement) => (this.videoRef = el)}\n              onLoadedMetadata={this.onMediaLoad}\n              style={{\n                ...mediaStyle,\n                transform:\n                  transform || `translate(${x}px, ${y}px) rotate(${rotation}deg) scale(${zoom})`,\n              }}\n              controls={false}\n            />\n          )\n        )}\n        {this.state.cropSize && (\n          <div\n            style={{\n              ...cropAreaStyle,\n              width: this.state.cropSize.width,\n              height: this.state.cropSize.height,\n            }}\n            data-testid=\"cropper\"\n            className={classNames(\n              'reactEasyCrop_CropArea',\n              cropShape === 'round' && 'reactEasyCrop_CropAreaRound',\n              showGrid && 'reactEasyCrop_CropAreaGrid',\n              cropAreaClassName\n            )}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default Cropper\n","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\n\nvar Track = function Track(props) {\n  var _ref, _ref2;\n\n  var className = props.className,\n      included = props.included,\n      vertical = props.vertical,\n      style = props.style;\n  var length = props.length,\n      offset = props.offset,\n      reverse = props.reverse;\n\n  if (length < 0) {\n    reverse = !reverse;\n    length = Math.abs(length);\n    offset = 100 - offset;\n  }\n\n  var positonStyle = vertical ? (_ref = {}, _defineProperty(_ref, reverse ? 'top' : 'bottom', \"\".concat(offset, \"%\")), _defineProperty(_ref, reverse ? 'bottom' : 'top', 'auto'), _defineProperty(_ref, \"height\", \"\".concat(length, \"%\")), _ref) : (_ref2 = {}, _defineProperty(_ref2, reverse ? 'right' : 'left', \"\".concat(offset, \"%\")), _defineProperty(_ref2, reverse ? 'left' : 'right', 'auto'), _defineProperty(_ref2, \"width\", \"\".concat(length, \"%\")), _ref2);\n\n  var elStyle = _objectSpread(_objectSpread({}, style), positonStyle);\n\n  return included ? React.createElement(\"div\", {\n    className: className,\n    style: elStyle\n  }) : null;\n};\n\nexport default Track;","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport warning from \"rc-util/es/warning\";\n\nvar calcPoints = function calcPoints(vertical, marks, dots, step, min, max) {\n  warning(dots ? step > 0 : true, '`Slider[step]` should be a positive number in order to make Slider[dots] work.');\n  var points = Object.keys(marks).map(parseFloat).sort(function (a, b) {\n    return a - b;\n  });\n\n  if (dots && step) {\n    for (var i = min; i <= max; i += step) {\n      if (points.indexOf(i) === -1) {\n        points.push(i);\n      }\n    }\n  }\n\n  return points;\n};\n\nvar Steps = function Steps(_ref) {\n  var prefixCls = _ref.prefixCls,\n      vertical = _ref.vertical,\n      reverse = _ref.reverse,\n      marks = _ref.marks,\n      dots = _ref.dots,\n      step = _ref.step,\n      included = _ref.included,\n      lowerBound = _ref.lowerBound,\n      upperBound = _ref.upperBound,\n      max = _ref.max,\n      min = _ref.min,\n      dotStyle = _ref.dotStyle,\n      activeDotStyle = _ref.activeDotStyle;\n  var range = max - min;\n  var elements = calcPoints(vertical, marks, dots, step, min, max).map(function (point) {\n    var _classNames;\n\n    var offset = \"\".concat(Math.abs(point - min) / range * 100, \"%\");\n    var isActived = !included && point === upperBound || included && point <= upperBound && point >= lowerBound;\n    var style = vertical ? _objectSpread(_objectSpread({}, dotStyle), {}, _defineProperty({}, reverse ? 'top' : 'bottom', offset)) : _objectSpread(_objectSpread({}, dotStyle), {}, _defineProperty({}, reverse ? 'right' : 'left', offset));\n\n    if (isActived) {\n      style = _objectSpread(_objectSpread({}, style), activeDotStyle);\n    }\n\n    var pointClassName = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-dot\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-dot-active\"), isActived), _defineProperty(_classNames, \"\".concat(prefixCls, \"-dot-reverse\"), reverse), _classNames));\n    return React.createElement(\"span\", {\n      className: pointClassName,\n      style: style,\n      key: point\n    });\n  });\n  return React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-step\")\n  }, elements);\n};\n\nexport default Steps;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport classNames from 'classnames';\n\nvar Marks = function Marks(_ref) {\n  var className = _ref.className,\n      vertical = _ref.vertical,\n      reverse = _ref.reverse,\n      marks = _ref.marks,\n      included = _ref.included,\n      upperBound = _ref.upperBound,\n      lowerBound = _ref.lowerBound,\n      max = _ref.max,\n      min = _ref.min,\n      onClickLabel = _ref.onClickLabel;\n  var marksKeys = Object.keys(marks);\n  var range = max - min;\n  var elements = marksKeys.map(parseFloat).sort(function (a, b) {\n    return a - b;\n  }).map(function (point) {\n    var _classNames;\n\n    var markPoint = marks[point];\n    var markPointIsObject = _typeof(markPoint) === 'object' && !React.isValidElement(markPoint);\n    var markLabel = markPointIsObject ? markPoint.label : markPoint;\n\n    if (!markLabel && markLabel !== 0) {\n      return null;\n    }\n\n    var isActive = !included && point === upperBound || included && point <= upperBound && point >= lowerBound;\n    var markClassName = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(className, \"-text\"), true), _defineProperty(_classNames, \"\".concat(className, \"-text-active\"), isActive), _classNames));\n\n    var bottomStyle = _defineProperty({\n      marginBottom: '-50%'\n    }, reverse ? 'top' : 'bottom', \"\".concat((point - min) / range * 100, \"%\"));\n\n    var leftStyle = _defineProperty({\n      transform: \"translateX(\".concat(reverse ? \"50%\" : \"-50%\", \")\"),\n      msTransform: \"translateX(\".concat(reverse ? \"50%\" : \"-50%\", \")\")\n    }, reverse ? 'right' : 'left', \"\".concat((point - min) / range * 100, \"%\"));\n\n    var style = vertical ? bottomStyle : leftStyle;\n    var markStyle = markPointIsObject ? _objectSpread(_objectSpread({}, style), markPoint.style) : style;\n    return React.createElement(\"span\", {\n      className: markClassName,\n      style: markStyle,\n      key: point,\n      onMouseDown: function onMouseDown(e) {\n        return onClickLabel(e, point);\n      },\n      onTouchStart: function onTouchStart(e) {\n        return onClickLabel(e, point);\n      }\n    }, markLabel);\n  });\n  return React.createElement(\"div\", {\n    className: className\n  }, elements);\n};\n\nexport default Marks;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\n\nvar Handle = /*#__PURE__*/function (_React$Component) {\n  _inherits(Handle, _React$Component);\n\n  var _super = _createSuper(Handle);\n\n  function Handle() {\n    var _this;\n\n    _classCallCheck(this, Handle);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      clickFocused: false\n    };\n\n    _this.setHandleRef = function (node) {\n      _this.handle = node;\n    };\n\n    _this.handleMouseUp = function () {\n      if (document.activeElement === _this.handle) {\n        _this.setClickFocus(true);\n      }\n    };\n\n    _this.handleMouseDown = function (e) {\n      // avoid selecting text during drag\n      // https://github.com/ant-design/ant-design/issues/25010\n      e.preventDefault(); // fix https://github.com/ant-design/ant-design/issues/15324\n\n      _this.focus();\n    };\n\n    _this.handleBlur = function () {\n      _this.setClickFocus(false);\n    };\n\n    _this.handleKeyDown = function () {\n      _this.setClickFocus(false);\n    };\n\n    return _this;\n  }\n\n  _createClass(Handle, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // mouseup won't trigger if mouse moved out of handle,\n      // so we listen on document here.\n      this.onMouseUpListener = addEventListener(document, 'mouseup', this.handleMouseUp);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.onMouseUpListener) {\n        this.onMouseUpListener.remove();\n      }\n    }\n  }, {\n    key: \"setClickFocus\",\n    value: function setClickFocus(focused) {\n      this.setState({\n        clickFocused: focused\n      });\n    }\n  }, {\n    key: \"clickFocus\",\n    value: function clickFocus() {\n      this.setClickFocus(true);\n      this.focus();\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.handle.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.handle.blur();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _ref, _ref2;\n\n      var _this$props = this.props,\n          prefixCls = _this$props.prefixCls,\n          vertical = _this$props.vertical,\n          reverse = _this$props.reverse,\n          offset = _this$props.offset,\n          style = _this$props.style,\n          disabled = _this$props.disabled,\n          min = _this$props.min,\n          max = _this$props.max,\n          value = _this$props.value,\n          tabIndex = _this$props.tabIndex,\n          ariaLabel = _this$props.ariaLabel,\n          ariaLabelledBy = _this$props.ariaLabelledBy,\n          ariaValueTextFormatter = _this$props.ariaValueTextFormatter,\n          restProps = _objectWithoutProperties(_this$props, [\"prefixCls\", \"vertical\", \"reverse\", \"offset\", \"style\", \"disabled\", \"min\", \"max\", \"value\", \"tabIndex\", \"ariaLabel\", \"ariaLabelledBy\", \"ariaValueTextFormatter\"]);\n\n      var className = classNames(this.props.className, _defineProperty({}, \"\".concat(prefixCls, \"-handle-click-focused\"), this.state.clickFocused));\n      var positionStyle = vertical ? (_ref = {}, _defineProperty(_ref, reverse ? 'top' : 'bottom', \"\".concat(offset, \"%\")), _defineProperty(_ref, reverse ? 'bottom' : 'top', 'auto'), _defineProperty(_ref, \"transform\", reverse ? null : \"translateY(+50%)\"), _ref) : (_ref2 = {}, _defineProperty(_ref2, reverse ? 'right' : 'left', \"\".concat(offset, \"%\")), _defineProperty(_ref2, reverse ? 'left' : 'right', 'auto'), _defineProperty(_ref2, \"transform\", \"translateX(\".concat(reverse ? '+' : '-', \"50%)\")), _ref2);\n\n      var elStyle = _objectSpread(_objectSpread({}, style), positionStyle);\n\n      var mergedTabIndex = tabIndex || 0;\n\n      if (disabled || tabIndex === null) {\n        mergedTabIndex = null;\n      }\n\n      var ariaValueText;\n\n      if (ariaValueTextFormatter) {\n        ariaValueText = ariaValueTextFormatter(value);\n      }\n\n      return React.createElement(\"div\", Object.assign({\n        ref: this.setHandleRef,\n        tabIndex: mergedTabIndex\n      }, restProps, {\n        className: className,\n        style: elStyle,\n        onBlur: this.handleBlur,\n        onKeyDown: this.handleKeyDown,\n        onMouseDown: this.handleMouseDown,\n        // aria attribute\n        role: \"slider\",\n        \"aria-valuemin\": min,\n        \"aria-valuemax\": max,\n        \"aria-valuenow\": value,\n        \"aria-disabled\": !!disabled,\n        \"aria-label\": ariaLabel,\n        \"aria-labelledby\": ariaLabelledBy,\n        \"aria-valuetext\": ariaValueText\n      }));\n    }\n  }]);\n\n  return Handle;\n}(React.Component);\n\nexport { Handle as default };","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { findDOMNode } from 'react-dom';\nimport keyCode from \"rc-util/es/KeyCode\";\nexport function isEventFromHandle(e, handles) {\n  try {\n    return Object.keys(handles).some(function (key) {\n      return e.target === findDOMNode(handles[key]);\n    });\n  } catch (error) {\n    return false;\n  }\n}\nexport function isValueOutOfRange(value, _ref) {\n  var min = _ref.min,\n      max = _ref.max;\n  return value < min || value > max;\n}\nexport function isNotTouchEvent(e) {\n  return e.touches.length > 1 || e.type.toLowerCase() === 'touchend' && e.touches.length > 0;\n}\nexport function getClosestPoint(val, _ref2) {\n  var marks = _ref2.marks,\n      step = _ref2.step,\n      min = _ref2.min,\n      max = _ref2.max;\n  var points = Object.keys(marks).map(parseFloat);\n\n  if (step !== null) {\n    var maxSteps = Math.floor((max - min) / step);\n    var steps = Math.min((val - min) / step, maxSteps);\n    var closestStep = Math.round(steps) * step + min;\n    points.push(closestStep);\n  }\n\n  var diffs = points.map(function (point) {\n    return Math.abs(val - point);\n  });\n  return points[diffs.indexOf(Math.min.apply(Math, _toConsumableArray(diffs)))];\n}\nexport function getPrecision(step) {\n  var stepString = step.toString();\n  var precision = 0;\n\n  if (stepString.indexOf('.') >= 0) {\n    precision = stepString.length - stepString.indexOf('.') - 1;\n  }\n\n  return precision;\n}\nexport function getMousePosition(vertical, e) {\n  return vertical ? e.clientY : e.pageX;\n}\nexport function getTouchPosition(vertical, e) {\n  return vertical ? e.touches[0].clientY : e.touches[0].pageX;\n}\nexport function getHandleCenterPosition(vertical, handle) {\n  var coords = handle.getBoundingClientRect();\n  return vertical ? coords.top + coords.height * 0.5 : window.pageXOffset + coords.left + coords.width * 0.5;\n}\nexport function ensureValueInRange(val, _ref3) {\n  var max = _ref3.max,\n      min = _ref3.min;\n\n  if (val <= min) {\n    return min;\n  }\n\n  if (val >= max) {\n    return max;\n  }\n\n  return val;\n}\nexport function ensureValuePrecision(val, props) {\n  var step = props.step;\n  var closestPoint = isFinite(getClosestPoint(val, props)) ? getClosestPoint(val, props) : 0; // eslint-disable-line\n\n  return step === null ? closestPoint : parseFloat(closestPoint.toFixed(getPrecision(step)));\n}\nexport function pauseEvent(e) {\n  e.stopPropagation();\n  e.preventDefault();\n}\nexport function calculateNextValue(func, value, props) {\n  var operations = {\n    increase: function increase(a, b) {\n      return a + b;\n    },\n    decrease: function decrease(a, b) {\n      return a - b;\n    }\n  };\n  var indexToGet = operations[func](Object.keys(props.marks).indexOf(JSON.stringify(value)), 1);\n  var keyToGet = Object.keys(props.marks)[indexToGet];\n\n  if (props.step) {\n    return operations[func](value, props.step);\n  }\n\n  if (!!Object.keys(props.marks).length && !!props.marks[keyToGet]) {\n    return props.marks[keyToGet];\n  }\n\n  return value;\n}\nexport function getKeyboardValueMutator(e, vertical, reverse) {\n  var increase = 'increase';\n  var decrease = 'decrease';\n  var method = increase;\n\n  switch (e.keyCode) {\n    case keyCode.UP:\n      method = vertical && reverse ? decrease : increase;\n      break;\n\n    case keyCode.RIGHT:\n      method = !vertical && reverse ? decrease : increase;\n      break;\n\n    case keyCode.DOWN:\n      method = vertical && reverse ? increase : decrease;\n      break;\n\n    case keyCode.LEFT:\n      method = !vertical && reverse ? increase : decrease;\n      break;\n\n    case keyCode.END:\n      return function (value, props) {\n        return props.max;\n      };\n\n    case keyCode.HOME:\n      return function (value, props) {\n        return props.min;\n      };\n\n    case keyCode.PAGE_UP:\n      return function (value, props) {\n        return value + props.step * 2;\n      };\n\n    case keyCode.PAGE_DOWN:\n      return function (value, props) {\n        return value - props.step * 2;\n      };\n\n    default:\n      return undefined;\n  }\n\n  return function (value, props) {\n    return calculateNextValue(method, value, props);\n  };\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _get from \"@babel/runtime/helpers/esm/get\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport classNames from 'classnames';\nimport warning from \"rc-util/es/warning\";\nimport Steps from './Steps';\nimport Marks from './Marks';\nimport Handle from '../Handle';\nimport * as utils from '../utils';\n\nfunction noop() {}\n\nexport default function createSlider(Component) {\n  var _a;\n\n  return _a = /*#__PURE__*/function (_Component) {\n    _inherits(ComponentEnhancer, _Component);\n\n    var _super = _createSuper(ComponentEnhancer);\n\n    function ComponentEnhancer(props) {\n      var _this;\n\n      _classCallCheck(this, ComponentEnhancer);\n\n      _this = _super.call(this, props);\n\n      _this.onMouseDown = function (e) {\n        if (e.button !== 0) {\n          return;\n        }\n\n        var isVertical = _this.props.vertical;\n        var position = utils.getMousePosition(isVertical, e);\n\n        if (!utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          _this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n\n        _this.removeDocumentEvents();\n\n        _this.onStart(position);\n\n        _this.addDocumentMouseEvents();\n      };\n\n      _this.onTouchStart = function (e) {\n        if (utils.isNotTouchEvent(e)) return;\n        var isVertical = _this.props.vertical;\n        var position = utils.getTouchPosition(isVertical, e);\n\n        if (!utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.dragOffset = 0;\n        } else {\n          var handlePosition = utils.getHandleCenterPosition(isVertical, e.target);\n          _this.dragOffset = position - handlePosition;\n          position = handlePosition;\n        }\n\n        _this.onStart(position);\n\n        _this.addDocumentTouchEvents();\n\n        utils.pauseEvent(e);\n      };\n\n      _this.onFocus = function (e) {\n        var _this$props = _this.props,\n            onFocus = _this$props.onFocus,\n            vertical = _this$props.vertical;\n\n        if (utils.isEventFromHandle(e, _this.handlesRefs)) {\n          var handlePosition = utils.getHandleCenterPosition(vertical, e.target);\n          _this.dragOffset = 0;\n\n          _this.onStart(handlePosition);\n\n          utils.pauseEvent(e);\n\n          if (onFocus) {\n            onFocus(e);\n          }\n        }\n      };\n\n      _this.onBlur = function (e) {\n        var onBlur = _this.props.onBlur;\n\n        _this.onEnd();\n\n        if (onBlur) {\n          onBlur(e);\n        }\n      };\n\n      _this.onMouseUp = function () {\n        if (_this.handlesRefs[_this.prevMovedHandleIndex]) {\n          _this.handlesRefs[_this.prevMovedHandleIndex].clickFocus();\n        }\n      };\n\n      _this.onMouseMove = function (e) {\n        if (!_this.sliderRef) {\n          _this.onEnd();\n\n          return;\n        }\n\n        var position = utils.getMousePosition(_this.props.vertical, e);\n\n        _this.onMove(e, position - _this.dragOffset);\n      };\n\n      _this.onTouchMove = function (e) {\n        if (utils.isNotTouchEvent(e) || !_this.sliderRef) {\n          _this.onEnd();\n\n          return;\n        }\n\n        var position = utils.getTouchPosition(_this.props.vertical, e);\n\n        _this.onMove(e, position - _this.dragOffset);\n      };\n\n      _this.onKeyDown = function (e) {\n        if (_this.sliderRef && utils.isEventFromHandle(e, _this.handlesRefs)) {\n          _this.onKeyboard(e);\n        }\n      };\n\n      _this.onClickMarkLabel = function (e, value) {\n        e.stopPropagation();\n\n        _this.onChange({\n          value: value\n        });\n\n        _this.setState({\n          value: value\n        }, function () {\n          return _this.onEnd(true);\n        });\n      };\n\n      _this.saveSlider = function (slider) {\n        _this.sliderRef = slider;\n      };\n\n      var step = props.step,\n          max = props.max,\n          min = props.min;\n      var isPointDiffEven = isFinite(max - min) ? (max - min) % step === 0 : true; // eslint-disable-line\n\n      warning(step && Math.floor(step) === step ? isPointDiffEven : true, \"Slider[max] - Slider[min] (\".concat(max - min, \") should be a multiple of Slider[step] (\").concat(step, \")\"));\n      _this.handlesRefs = {};\n      return _this;\n    }\n\n    _createClass(ComponentEnhancer, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        // Snapshot testing cannot handle refs, so be sure to null-check this.\n        this.document = this.sliderRef && this.sliderRef.ownerDocument;\n        var _this$props2 = this.props,\n            autoFocus = _this$props2.autoFocus,\n            disabled = _this$props2.disabled;\n\n        if (autoFocus && !disabled) {\n          this.focus();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (_get(_getPrototypeOf(ComponentEnhancer.prototype), \"componentWillUnmount\", this)) _get(_getPrototypeOf(ComponentEnhancer.prototype), \"componentWillUnmount\", this).call(this);\n        this.removeDocumentEvents();\n      }\n    }, {\n      key: \"getSliderStart\",\n      value: function getSliderStart() {\n        var slider = this.sliderRef;\n        var _this$props3 = this.props,\n            vertical = _this$props3.vertical,\n            reverse = _this$props3.reverse;\n        var rect = slider.getBoundingClientRect();\n\n        if (vertical) {\n          return reverse ? rect.bottom : rect.top;\n        }\n\n        return window.pageXOffset + (reverse ? rect.right : rect.left);\n      }\n    }, {\n      key: \"getSliderLength\",\n      value: function getSliderLength() {\n        var slider = this.sliderRef;\n\n        if (!slider) {\n          return 0;\n        }\n\n        var coords = slider.getBoundingClientRect();\n        return this.props.vertical ? coords.height : coords.width;\n      }\n    }, {\n      key: \"addDocumentTouchEvents\",\n      value: function addDocumentTouchEvents() {\n        // just work for Chrome iOS Safari and Android Browser\n        this.onTouchMoveListener = addEventListener(this.document, 'touchmove', this.onTouchMove);\n        this.onTouchUpListener = addEventListener(this.document, 'touchend', this.onEnd);\n      }\n    }, {\n      key: \"addDocumentMouseEvents\",\n      value: function addDocumentMouseEvents() {\n        this.onMouseMoveListener = addEventListener(this.document, 'mousemove', this.onMouseMove);\n        this.onMouseUpListener = addEventListener(this.document, 'mouseup', this.onEnd);\n      }\n    }, {\n      key: \"removeDocumentEvents\",\n      value: function removeDocumentEvents() {\n        /* eslint-disable no-unused-expressions */\n        this.onTouchMoveListener && this.onTouchMoveListener.remove();\n        this.onTouchUpListener && this.onTouchUpListener.remove();\n        this.onMouseMoveListener && this.onMouseMoveListener.remove();\n        this.onMouseUpListener && this.onMouseUpListener.remove();\n        /* eslint-enable no-unused-expressions */\n      }\n    }, {\n      key: \"focus\",\n      value: function focus() {\n        if (!this.props.disabled) {\n          this.handlesRefs[0].focus();\n        }\n      }\n    }, {\n      key: \"blur\",\n      value: function blur() {\n        var _this2 = this;\n\n        if (!this.props.disabled) {\n          Object.keys(this.handlesRefs).forEach(function (key) {\n            if (_this2.handlesRefs[key] && _this2.handlesRefs[key].blur) {\n              _this2.handlesRefs[key].blur();\n            }\n          });\n        }\n      }\n    }, {\n      key: \"calcValue\",\n      value: function calcValue(offset) {\n        var _this$props4 = this.props,\n            vertical = _this$props4.vertical,\n            min = _this$props4.min,\n            max = _this$props4.max;\n        var ratio = Math.abs(Math.max(offset, 0) / this.getSliderLength());\n        var value = vertical ? (1 - ratio) * (max - min) + min : ratio * (max - min) + min;\n        return value;\n      }\n    }, {\n      key: \"calcValueByPos\",\n      value: function calcValueByPos(position) {\n        var sign = this.props.reverse ? -1 : +1;\n        var pixelOffset = sign * (position - this.getSliderStart());\n        var nextValue = this.trimAlignValue(this.calcValue(pixelOffset));\n        return nextValue;\n      }\n    }, {\n      key: \"calcOffset\",\n      value: function calcOffset(value) {\n        var _this$props5 = this.props,\n            min = _this$props5.min,\n            max = _this$props5.max;\n        var ratio = (value - min) / (max - min);\n        return Math.max(0, ratio * 100);\n      }\n    }, {\n      key: \"saveHandle\",\n      value: function saveHandle(index, handle) {\n        this.handlesRefs[index] = handle;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _classNames;\n\n        var _this$props6 = this.props,\n            prefixCls = _this$props6.prefixCls,\n            className = _this$props6.className,\n            marks = _this$props6.marks,\n            dots = _this$props6.dots,\n            step = _this$props6.step,\n            included = _this$props6.included,\n            disabled = _this$props6.disabled,\n            vertical = _this$props6.vertical,\n            reverse = _this$props6.reverse,\n            min = _this$props6.min,\n            max = _this$props6.max,\n            children = _this$props6.children,\n            maximumTrackStyle = _this$props6.maximumTrackStyle,\n            style = _this$props6.style,\n            railStyle = _this$props6.railStyle,\n            dotStyle = _this$props6.dotStyle,\n            activeDotStyle = _this$props6.activeDotStyle;\n\n        var _get$call = _get(_getPrototypeOf(ComponentEnhancer.prototype), \"render\", this).call(this),\n            tracks = _get$call.tracks,\n            handles = _get$call.handles;\n\n        var sliderClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-marks\"), Object.keys(marks).length), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-vertical\"), vertical), _defineProperty(_classNames, className, className), _classNames));\n        return React.createElement(\"div\", {\n          ref: this.saveSlider,\n          className: sliderClassName,\n          onTouchStart: disabled ? noop : this.onTouchStart,\n          onMouseDown: disabled ? noop : this.onMouseDown,\n          onMouseUp: disabled ? noop : this.onMouseUp,\n          onKeyDown: disabled ? noop : this.onKeyDown,\n          onFocus: disabled ? noop : this.onFocus,\n          onBlur: disabled ? noop : this.onBlur,\n          style: style\n        }, React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-rail\"),\n          style: _objectSpread(_objectSpread({}, maximumTrackStyle), railStyle)\n        }), tracks, React.createElement(Steps, {\n          prefixCls: prefixCls,\n          vertical: vertical,\n          reverse: reverse,\n          marks: marks,\n          dots: dots,\n          step: step,\n          included: included,\n          lowerBound: this.getLowerBound(),\n          upperBound: this.getUpperBound(),\n          max: max,\n          min: min,\n          dotStyle: dotStyle,\n          activeDotStyle: activeDotStyle\n        }), handles, React.createElement(Marks, {\n          className: \"\".concat(prefixCls, \"-mark\"),\n          onClickLabel: disabled ? noop : this.onClickMarkLabel,\n          vertical: vertical,\n          marks: marks,\n          included: included,\n          lowerBound: this.getLowerBound(),\n          upperBound: this.getUpperBound(),\n          max: max,\n          min: min,\n          reverse: reverse\n        }), children);\n      }\n    }]);\n\n    return ComponentEnhancer;\n  }(Component), _a.displayName = \"ComponentEnhancer(\".concat(Component.displayName, \")\"), _a.defaultProps = _objectSpread(_objectSpread({}, Component.defaultProps), {}, {\n    prefixCls: 'rc-slider',\n    className: '',\n    min: 0,\n    max: 100,\n    step: 1,\n    marks: {},\n    handle: function handle(props) {\n      var index = props.index,\n          restProps = _objectWithoutProperties(props, [\"index\"]);\n\n      delete restProps.dragging;\n\n      if (restProps.value === null) {\n        return null;\n      }\n\n      return React.createElement(Handle, Object.assign({}, restProps, {\n        key: index\n      }));\n    },\n    onBeforeChange: noop,\n    onChange: noop,\n    onAfterChange: noop,\n    included: true,\n    disabled: false,\n    dots: false,\n    vertical: false,\n    reverse: false,\n    trackStyle: [{}],\n    handleStyle: [{}],\n    railStyle: {},\n    dotStyle: {},\n    activeDotStyle: {}\n  }), _a;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport warning from \"rc-util/es/warning\";\nimport Track from './common/Track';\nimport createSlider from './common/createSlider';\nimport * as utils from './utils';\n\nvar Slider = /*#__PURE__*/function (_React$Component) {\n  _inherits(Slider, _React$Component);\n\n  var _super = _createSuper(Slider);\n\n  /* eslint-enable */\n  function Slider(props) {\n    var _this;\n\n    _classCallCheck(this, Slider);\n\n    _this = _super.call(this, props);\n\n    _this.onEnd = function (force) {\n      var dragging = _this.state.dragging;\n\n      _this.removeDocumentEvents();\n\n      if (dragging || force) {\n        _this.props.onAfterChange(_this.getValue());\n      }\n\n      _this.setState({\n        dragging: false\n      });\n    };\n\n    var defaultValue = props.defaultValue !== undefined ? props.defaultValue : props.min;\n    var value = props.value !== undefined ? props.value : defaultValue;\n    _this.state = {\n      value: _this.trimAlignValue(value),\n      dragging: false\n    };\n    warning(!('minimumTrackStyle' in props), 'minimumTrackStyle will be deprecated, please use trackStyle instead.');\n    warning(!('maximumTrackStyle' in props), 'maximumTrackStyle will be deprecated, please use railStyle instead.');\n    return _this;\n  }\n  /**\n   * [Legacy] Used for inherit other component.\n   * It's a bad code style which should be refactor.\n   */\n\n  /* eslint-disable @typescript-eslint/no-unused-vars, class-methods-use-this */\n\n\n  _createClass(Slider, [{\n    key: \"calcValueByPos\",\n    value: function calcValueByPos(value) {\n      return 0;\n    }\n  }, {\n    key: \"calcOffset\",\n    value: function calcOffset(value) {\n      return 0;\n    }\n  }, {\n    key: \"saveHandle\",\n    value: function saveHandle(index, h) {}\n  }, {\n    key: \"removeDocumentEvents\",\n    value: function removeDocumentEvents() {}\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_, prevState) {\n      if (!('value' in this.props || 'min' in this.props || 'max' in this.props)) {\n        return;\n      }\n\n      var _this$props = this.props,\n          value = _this$props.value,\n          onChange = _this$props.onChange;\n      var theValue = value !== undefined ? value : prevState.value;\n      var nextValue = this.trimAlignValue(theValue, this.props);\n\n      if (nextValue !== prevState.value) {\n        // eslint-disable-next-line\n        this.setState({\n          value: nextValue\n        });\n\n        if (utils.isValueOutOfRange(theValue, this.props)) {\n          onChange(nextValue);\n        }\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(state) {\n      var props = this.props;\n      var isNotControlled = !('value' in props);\n      var nextState = state.value > this.props.max ? _objectSpread(_objectSpread({}, state), {}, {\n        value: this.props.max\n      }) : state;\n\n      if (isNotControlled) {\n        this.setState(nextState);\n      }\n\n      var changedValue = nextState.value;\n      props.onChange(changedValue);\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart(position) {\n      this.setState({\n        dragging: true\n      });\n      var props = this.props;\n      var prevValue = this.getValue();\n      props.onBeforeChange(prevValue);\n      var value = this.calcValueByPos(position);\n      this.startValue = value;\n      this.startPosition = position;\n      if (value === prevValue) return;\n      this.prevMovedHandleIndex = 0;\n      this.onChange({\n        value: value\n      });\n    }\n  }, {\n    key: \"onMove\",\n    value: function onMove(e, position) {\n      utils.pauseEvent(e);\n      var oldValue = this.state.value;\n      var value = this.calcValueByPos(position);\n      if (value === oldValue) return;\n      this.onChange({\n        value: value\n      });\n    }\n  }, {\n    key: \"onKeyboard\",\n    value: function onKeyboard(e) {\n      var _this$props2 = this.props,\n          reverse = _this$props2.reverse,\n          vertical = _this$props2.vertical;\n      var valueMutator = utils.getKeyboardValueMutator(e, vertical, reverse);\n\n      if (valueMutator) {\n        utils.pauseEvent(e);\n        var state = this.state;\n        var oldValue = state.value;\n        var mutatedValue = valueMutator(oldValue, this.props);\n        var value = this.trimAlignValue(mutatedValue);\n        if (value === oldValue) return;\n        this.onChange({\n          value: value\n        });\n        this.props.onAfterChange(value);\n        this.onEnd();\n      }\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      return this.state.value;\n    }\n  }, {\n    key: \"getLowerBound\",\n    value: function getLowerBound() {\n      return this.props.min;\n    }\n  }, {\n    key: \"getUpperBound\",\n    value: function getUpperBound() {\n      return this.state.value;\n    }\n  }, {\n    key: \"trimAlignValue\",\n    value: function trimAlignValue(v) {\n      var nextProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (v === null) {\n        return null;\n      }\n\n      var mergedProps = _objectSpread(_objectSpread({}, this.props), nextProps);\n\n      var val = utils.ensureValueInRange(v, mergedProps);\n      return utils.ensureValuePrecision(val, mergedProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          prefixCls = _this$props3.prefixCls,\n          vertical = _this$props3.vertical,\n          included = _this$props3.included,\n          disabled = _this$props3.disabled,\n          minimumTrackStyle = _this$props3.minimumTrackStyle,\n          trackStyle = _this$props3.trackStyle,\n          handleStyle = _this$props3.handleStyle,\n          tabIndex = _this$props3.tabIndex,\n          ariaLabelForHandle = _this$props3.ariaLabelForHandle,\n          ariaLabelledByForHandle = _this$props3.ariaLabelledByForHandle,\n          ariaValueTextFormatterForHandle = _this$props3.ariaValueTextFormatterForHandle,\n          min = _this$props3.min,\n          max = _this$props3.max,\n          startPoint = _this$props3.startPoint,\n          reverse = _this$props3.reverse,\n          handleGenerator = _this$props3.handle;\n      var _this$state = this.state,\n          value = _this$state.value,\n          dragging = _this$state.dragging;\n      var offset = this.calcOffset(value);\n      var handle = handleGenerator({\n        className: \"\".concat(prefixCls, \"-handle\"),\n        prefixCls: prefixCls,\n        vertical: vertical,\n        offset: offset,\n        value: value,\n        dragging: dragging,\n        disabled: disabled,\n        min: min,\n        max: max,\n        reverse: reverse,\n        index: 0,\n        tabIndex: tabIndex,\n        ariaLabel: ariaLabelForHandle,\n        ariaLabelledBy: ariaLabelledByForHandle,\n        ariaValueTextFormatter: ariaValueTextFormatterForHandle,\n        style: handleStyle[0] || handleStyle,\n        ref: function ref(h) {\n          return _this2.saveHandle(0, h);\n        }\n      });\n      var trackOffset = startPoint !== undefined ? this.calcOffset(startPoint) : 0;\n      var mergedTrackStyle = trackStyle[0] || trackStyle;\n      var track = React.createElement(Track, {\n        className: \"\".concat(prefixCls, \"-track\"),\n        vertical: vertical,\n        included: included,\n        offset: trackOffset,\n        reverse: reverse,\n        length: offset - trackOffset,\n        style: _objectSpread(_objectSpread({}, minimumTrackStyle), mergedTrackStyle)\n      });\n      return {\n        tracks: track,\n        handles: handle\n      };\n    }\n  }]);\n\n  return Slider;\n}(React.Component);\n\nexport default createSlider(Slider);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport Track from './common/Track';\nimport createSlider from './common/createSlider';\nimport * as utils from './utils';\n\nvar _trimAlignValue = function trimAlignValue(_ref) {\n  var value = _ref.value,\n      handle = _ref.handle,\n      bounds = _ref.bounds,\n      props = _ref.props;\n  var allowCross = props.allowCross,\n      pushable = props.pushable;\n  var thershold = Number(pushable);\n  var valInRange = utils.ensureValueInRange(value, props);\n  var valNotConflict = valInRange;\n\n  if (!allowCross && handle != null && bounds !== undefined) {\n    if (handle > 0 && valInRange <= bounds[handle - 1] + thershold) {\n      valNotConflict = bounds[handle - 1] + thershold;\n    }\n\n    if (handle < bounds.length - 1 && valInRange >= bounds[handle + 1] - thershold) {\n      valNotConflict = bounds[handle + 1] - thershold;\n    }\n  }\n\n  return utils.ensureValuePrecision(valNotConflict, props);\n};\n\nvar Range = /*#__PURE__*/function (_React$Component) {\n  _inherits(Range, _React$Component);\n\n  var _super = _createSuper(Range);\n\n  function Range(props) {\n    var _this;\n\n    _classCallCheck(this, Range);\n\n    _this = _super.call(this, props);\n\n    _this.onEnd = function (force) {\n      var handle = _this.state.handle;\n\n      _this.removeDocumentEvents();\n\n      if (handle !== null || force) {\n        _this.props.onAfterChange(_this.getValue());\n      }\n\n      _this.setState({\n        handle: null\n      });\n    };\n\n    var count = props.count,\n        min = props.min,\n        max = props.max;\n    var initialValue = Array.apply(void 0, _toConsumableArray(Array(count + 1))).map(function () {\n      return min;\n    });\n    var defaultValue = 'defaultValue' in props ? props.defaultValue : initialValue;\n    var value = props.value !== undefined ? props.value : defaultValue;\n    var bounds = value.map(function (v, i) {\n      return _trimAlignValue({\n        value: v,\n        handle: i,\n        props: props\n      });\n    });\n    var recent = bounds[0] === max ? 0 : bounds.length - 1;\n    _this.state = {\n      handle: null,\n      recent: recent,\n      bounds: bounds\n    };\n    return _this;\n  }\n  /**\n   * [Legacy] Used for inherit other component.\n   * It's a bad code style which should be refactor.\n   */\n\n  /* eslint-disable @typescript-eslint/no-unused-vars, class-methods-use-this */\n\n\n  _createClass(Range, [{\n    key: \"calcValueByPos\",\n    value: function calcValueByPos(value) {\n      return 0;\n    }\n  }, {\n    key: \"calcOffset\",\n    value: function calcOffset(value) {\n      return 0;\n    }\n  }, {\n    key: \"saveHandle\",\n    value: function saveHandle(index, h) {}\n  }, {\n    key: \"removeDocumentEvents\",\n    value: function removeDocumentEvents() {}\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      if (!('value' in this.props || 'min' in this.props || 'max' in this.props)) {\n        return;\n      }\n\n      if (this.props.min === prevProps.min && this.props.max === prevProps.max && shallowEqual(this.props.value, prevProps.value)) {\n        return;\n      }\n\n      var _this$props = this.props,\n          onChange = _this$props.onChange,\n          value = _this$props.value;\n      var currentValue = value || prevState.bounds;\n\n      if (currentValue.some(function (v) {\n        return utils.isValueOutOfRange(v, _this2.props);\n      })) {\n        var newValues = currentValue.map(function (v) {\n          return utils.ensureValueInRange(v, _this2.props);\n        });\n        onChange(newValues);\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(state) {\n      var props = this.props;\n      var isNotControlled = !('value' in props);\n\n      if (isNotControlled) {\n        this.setState(state);\n      } else {\n        var controlledState = {};\n        ['handle', 'recent'].forEach(function (item) {\n          if (state[item] !== undefined) {\n            controlledState[item] = state[item];\n          }\n        });\n\n        if (Object.keys(controlledState).length) {\n          this.setState(controlledState);\n        }\n      }\n\n      var data = _objectSpread(_objectSpread({}, this.state), state);\n\n      var changedValue = data.bounds;\n      props.onChange(changedValue);\n    }\n  }, {\n    key: \"onStart\",\n    value: function onStart(position) {\n      var props = this.props,\n          state = this.state;\n      var bounds = this.getValue();\n      props.onBeforeChange(bounds);\n      var value = this.calcValueByPos(position);\n      this.startValue = value;\n      this.startPosition = position;\n      var closestBound = this.getClosestBound(value);\n      this.prevMovedHandleIndex = this.getBoundNeedMoving(value, closestBound);\n      this.setState({\n        handle: this.prevMovedHandleIndex,\n        recent: this.prevMovedHandleIndex\n      });\n      var prevValue = bounds[this.prevMovedHandleIndex];\n      if (value === prevValue) return;\n\n      var nextBounds = _toConsumableArray(state.bounds);\n\n      nextBounds[this.prevMovedHandleIndex] = value;\n      this.onChange({\n        bounds: nextBounds\n      });\n    }\n  }, {\n    key: \"onMove\",\n    value: function onMove(e, position) {\n      utils.pauseEvent(e);\n      var state = this.state;\n      var value = this.calcValueByPos(position);\n      var oldValue = state.bounds[state.handle];\n      if (value === oldValue) return;\n      this.moveTo(value);\n    }\n  }, {\n    key: \"onKeyboard\",\n    value: function onKeyboard(e) {\n      var _this$props2 = this.props,\n          reverse = _this$props2.reverse,\n          vertical = _this$props2.vertical;\n      var valueMutator = utils.getKeyboardValueMutator(e, vertical, reverse);\n\n      if (valueMutator) {\n        utils.pauseEvent(e);\n        var state = this.state,\n            props = this.props;\n        var bounds = state.bounds,\n            handle = state.handle;\n        var oldValue = bounds[handle === null ? state.recent : handle];\n        var mutatedValue = valueMutator(oldValue, props);\n\n        var value = _trimAlignValue({\n          value: mutatedValue,\n          handle: handle,\n          bounds: state.bounds,\n          props: props\n        });\n\n        if (value === oldValue) return;\n        var isFromKeyboardEvent = true;\n        this.moveTo(value, isFromKeyboardEvent);\n      }\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      return this.state.bounds;\n    }\n  }, {\n    key: \"getClosestBound\",\n    value: function getClosestBound(value) {\n      var bounds = this.state.bounds;\n      var closestBound = 0;\n\n      for (var i = 1; i < bounds.length - 1; i += 1) {\n        if (value >= bounds[i]) {\n          closestBound = i;\n        }\n      }\n\n      if (Math.abs(bounds[closestBound + 1] - value) < Math.abs(bounds[closestBound] - value)) {\n        closestBound += 1;\n      }\n\n      return closestBound;\n    }\n  }, {\n    key: \"getBoundNeedMoving\",\n    value: function getBoundNeedMoving(value, closestBound) {\n      var _this$state = this.state,\n          bounds = _this$state.bounds,\n          recent = _this$state.recent;\n      var boundNeedMoving = closestBound;\n      var isAtTheSamePoint = bounds[closestBound + 1] === bounds[closestBound];\n\n      if (isAtTheSamePoint && bounds[recent] === bounds[closestBound]) {\n        boundNeedMoving = recent;\n      }\n\n      if (isAtTheSamePoint && value !== bounds[closestBound + 1]) {\n        boundNeedMoving = value < bounds[closestBound + 1] ? closestBound : closestBound + 1;\n      }\n\n      return boundNeedMoving;\n    }\n  }, {\n    key: \"getLowerBound\",\n    value: function getLowerBound() {\n      return this.state.bounds[0];\n    }\n  }, {\n    key: \"getUpperBound\",\n    value: function getUpperBound() {\n      var bounds = this.state.bounds;\n      return bounds[bounds.length - 1];\n    }\n    /**\n     * Returns an array of possible slider points, taking into account both\n     * `marks` and `step`. The result is cached.\n     */\n\n  }, {\n    key: \"getPoints\",\n    value: function getPoints() {\n      var _this$props3 = this.props,\n          marks = _this$props3.marks,\n          step = _this$props3.step,\n          min = _this$props3.min,\n          max = _this$props3.max;\n      var cache = this.internalPointsCache;\n\n      if (!cache || cache.marks !== marks || cache.step !== step) {\n        var pointsObject = _objectSpread({}, marks);\n\n        if (step !== null) {\n          for (var point = min; point <= max; point += step) {\n            pointsObject[point] = point;\n          }\n        }\n\n        var points = Object.keys(pointsObject).map(parseFloat);\n        points.sort(function (a, b) {\n          return a - b;\n        });\n        this.internalPointsCache = {\n          marks: marks,\n          step: step,\n          points: points\n        };\n      }\n\n      return this.internalPointsCache.points;\n    }\n  }, {\n    key: \"moveTo\",\n    value: function moveTo(value, isFromKeyboardEvent) {\n      var _this3 = this;\n\n      var state = this.state,\n          props = this.props;\n\n      var nextBounds = _toConsumableArray(state.bounds);\n\n      var handle = state.handle === null ? state.recent : state.handle;\n      nextBounds[handle] = value;\n      var nextHandle = handle;\n\n      if (props.pushable !== false) {\n        this.pushSurroundingHandles(nextBounds, nextHandle);\n      } else if (props.allowCross) {\n        nextBounds.sort(function (a, b) {\n          return a - b;\n        });\n        nextHandle = nextBounds.indexOf(value);\n      }\n\n      this.onChange({\n        recent: nextHandle,\n        handle: nextHandle,\n        bounds: nextBounds\n      });\n\n      if (isFromKeyboardEvent) {\n        // known problem: because setState is async,\n        // so trigger focus will invoke handler's onEnd and another handler's onStart too early,\n        // cause onBeforeChange and onAfterChange receive wrong value.\n        // here use setState callback to hack，but not elegant\n        this.props.onAfterChange(nextBounds);\n        this.setState({}, function () {\n          _this3.handlesRefs[nextHandle].focus();\n        });\n        this.onEnd();\n      }\n    }\n  }, {\n    key: \"pushSurroundingHandles\",\n    value: function pushSurroundingHandles(bounds, handle) {\n      var value = bounds[handle];\n      var pushable = this.props.pushable;\n      var threshold = Number(pushable);\n      var direction = 0;\n\n      if (bounds[handle + 1] - value < threshold) {\n        direction = +1; // push to right\n      }\n\n      if (value - bounds[handle - 1] < threshold) {\n        direction = -1; // push to left\n      }\n\n      if (direction === 0) {\n        return;\n      }\n\n      var nextHandle = handle + direction;\n      var diffToNext = direction * (bounds[nextHandle] - value);\n\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\n        // revert to original value if pushing is impossible\n        // eslint-disable-next-line no-param-reassign\n        bounds[handle] = bounds[nextHandle] - direction * threshold;\n      }\n    }\n  }, {\n    key: \"pushHandle\",\n    value: function pushHandle(bounds, handle, direction, amount) {\n      var originalValue = bounds[handle];\n      var currentValue = bounds[handle];\n\n      while (direction * (currentValue - originalValue) < amount) {\n        if (!this.pushHandleOnePoint(bounds, handle, direction)) {\n          // can't push handle enough to create the needed `amount` gap, so we\n          // revert its position to the original value\n          // eslint-disable-next-line no-param-reassign\n          bounds[handle] = originalValue;\n          return false;\n        }\n\n        currentValue = bounds[handle];\n      } // the handle was pushed enough to create the needed `amount` gap\n\n\n      return true;\n    }\n  }, {\n    key: \"pushHandleOnePoint\",\n    value: function pushHandleOnePoint(bounds, handle, direction) {\n      var points = this.getPoints();\n      var pointIndex = points.indexOf(bounds[handle]);\n      var nextPointIndex = pointIndex + direction;\n\n      if (nextPointIndex >= points.length || nextPointIndex < 0) {\n        // reached the minimum or maximum available point, can't push anymore\n        return false;\n      }\n\n      var nextHandle = handle + direction;\n      var nextValue = points[nextPointIndex];\n      var pushable = this.props.pushable;\n      var threshold = Number(pushable);\n      var diffToNext = direction * (bounds[nextHandle] - nextValue);\n\n      if (!this.pushHandle(bounds, nextHandle, direction, threshold - diffToNext)) {\n        // couldn't push next handle, so we won't push this one either\n        return false;\n      } // push the handle\n      // eslint-disable-next-line no-param-reassign\n\n\n      bounds[handle] = nextValue;\n      return true;\n    }\n  }, {\n    key: \"trimAlignValue\",\n    value: function trimAlignValue(value) {\n      var _this$state2 = this.state,\n          handle = _this$state2.handle,\n          bounds = _this$state2.bounds;\n      return _trimAlignValue({\n        value: value,\n        handle: handle,\n        bounds: bounds,\n        props: this.props\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state3 = this.state,\n          handle = _this$state3.handle,\n          bounds = _this$state3.bounds;\n      var _this$props4 = this.props,\n          prefixCls = _this$props4.prefixCls,\n          vertical = _this$props4.vertical,\n          included = _this$props4.included,\n          disabled = _this$props4.disabled,\n          min = _this$props4.min,\n          max = _this$props4.max,\n          reverse = _this$props4.reverse,\n          handleGenerator = _this$props4.handle,\n          trackStyle = _this$props4.trackStyle,\n          handleStyle = _this$props4.handleStyle,\n          tabIndex = _this$props4.tabIndex,\n          ariaLabelGroupForHandles = _this$props4.ariaLabelGroupForHandles,\n          ariaLabelledByGroupForHandles = _this$props4.ariaLabelledByGroupForHandles,\n          ariaValueTextFormatterGroupForHandles = _this$props4.ariaValueTextFormatterGroupForHandles;\n      var offsets = bounds.map(function (v) {\n        return _this4.calcOffset(v);\n      });\n      var handleClassName = \"\".concat(prefixCls, \"-handle\");\n      var handles = bounds.map(function (v, i) {\n        var _classNames;\n\n        var mergedTabIndex = tabIndex[i] || 0;\n\n        if (disabled || tabIndex[i] === null) {\n          mergedTabIndex = null;\n        }\n\n        var dragging = handle === i;\n        return handleGenerator({\n          className: classNames((_classNames = {}, _defineProperty(_classNames, handleClassName, true), _defineProperty(_classNames, \"\".concat(handleClassName, \"-\").concat(i + 1), true), _defineProperty(_classNames, \"\".concat(handleClassName, \"-dragging\"), dragging), _classNames)),\n          prefixCls: prefixCls,\n          vertical: vertical,\n          dragging: dragging,\n          offset: offsets[i],\n          value: v,\n          index: i,\n          tabIndex: mergedTabIndex,\n          min: min,\n          max: max,\n          reverse: reverse,\n          disabled: disabled,\n          style: handleStyle[i],\n          ref: function ref(h) {\n            return _this4.saveHandle(i, h);\n          },\n          ariaLabel: ariaLabelGroupForHandles[i],\n          ariaLabelledBy: ariaLabelledByGroupForHandles[i],\n          ariaValueTextFormatter: ariaValueTextFormatterGroupForHandles[i]\n        });\n      });\n      var tracks = bounds.slice(0, -1).map(function (_, index) {\n        var _classNames2;\n\n        var i = index + 1;\n        var trackClassName = classNames((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-track\"), true), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-track-\").concat(i), true), _classNames2));\n        return React.createElement(Track, {\n          className: trackClassName,\n          vertical: vertical,\n          reverse: reverse,\n          included: included,\n          offset: offsets[i - 1],\n          length: offsets[i] - offsets[i - 1],\n          style: trackStyle[index],\n          key: i\n        });\n      });\n      return {\n        tracks: tracks,\n        handles: handles\n      };\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if ('value' in props || 'min' in props || 'max' in props) {\n        var value = props.value || state.bounds;\n        var nextBounds = value.map(function (v, i) {\n          return _trimAlignValue({\n            value: v,\n            handle: i,\n            bounds: state.bounds,\n            props: props\n          });\n        });\n\n        if (nextBounds.length === state.bounds.length && nextBounds.every(function (v, i) {\n          return v === state.bounds[i];\n        })) {\n          return null;\n        }\n\n        return _objectSpread(_objectSpread({}, state), {}, {\n          bounds: nextBounds\n        });\n      }\n\n      return null;\n    }\n  }]);\n\n  return Range;\n}(React.Component);\n/* eslint-enable */\n\n\nRange.displayName = 'Range';\nRange.defaultProps = {\n  count: 1,\n  allowCross: true,\n  pushable: false,\n  tabIndex: [],\n  ariaLabelGroupForHandles: [],\n  ariaLabelledByGroupForHandles: [],\n  ariaValueTextFormatterGroupForHandles: []\n};\nexport default createSlider(Range);","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport Tooltip from '../tooltip';\n\nfunction useCombinedRefs() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  var targetRef = React.useRef();\n  React.useEffect(function () {\n    refs.forEach(function (ref) {\n      if (!ref) return;\n\n      if (typeof ref === 'function') {\n        ref(targetRef.current);\n      } else {\n        ref.current = targetRef.current;\n      }\n    });\n  }, [refs]);\n  return targetRef;\n}\n\nvar SliderTooltip = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var visible = props.visible;\n  var innerRef = React.useRef(null);\n  var tooltipRef = useCombinedRefs(ref, innerRef);\n  var rafRef = React.useRef(null);\n\n  function cancelKeepAlign() {\n    window.cancelAnimationFrame(rafRef.current);\n    rafRef.current = null;\n  }\n\n  function keepAlign() {\n    if (rafRef.current !== null) {\n      return;\n    }\n\n    rafRef.current = window.requestAnimationFrame(function () {\n      tooltipRef.current.forcePopupAlign();\n      rafRef.current = null;\n      keepAlign();\n    });\n  }\n\n  React.useEffect(function () {\n    if (visible) {\n      keepAlign();\n    } else {\n      cancelKeepAlign();\n    }\n\n    return cancelKeepAlign;\n  }, [visible]);\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({\n    ref: tooltipRef\n  }, props));\n});\nexport default SliderTooltip;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcSlider from \"rc-slider/es/Slider\";\nimport RcRange from \"rc-slider/es/Range\";\nimport RcHandle from \"rc-slider/es/Handle\";\nimport classNames from 'classnames';\nimport SliderTooltip from './SliderTooltip';\nimport { ConfigContext } from '../config-provider';\nvar Slider = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction,\n      getPopupContainer = _React$useContext.getPopupContainer;\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visibles = _React$useState2[0],\n      setVisibles = _React$useState2[1];\n\n  var toggleTooltipVisible = function toggleTooltipVisible(index, visible) {\n    setVisibles(function (prev) {\n      return _extends(_extends({}, prev), _defineProperty({}, index, visible));\n    });\n  };\n\n  var getTooltipPlacement = function getTooltipPlacement(tooltipPlacement, vertical) {\n    if (tooltipPlacement) {\n      return tooltipPlacement;\n    }\n\n    if (!vertical) {\n      return 'top';\n    }\n\n    return direction === 'rtl' ? 'left' : 'right';\n  };\n\n  var handleWithTooltip = function handleWithTooltip(_a) {\n    var tooltipPrefixCls = _a.tooltipPrefixCls,\n        prefixCls = _a.prefixCls,\n        _b = _a.info,\n        value = _b.value,\n        dragging = _b.dragging,\n        index = _b.index,\n        restProps = __rest(_b, [\"value\", \"dragging\", \"index\"]);\n\n    var tipFormatter = props.tipFormatter,\n        tooltipVisible = props.tooltipVisible,\n        tooltipPlacement = props.tooltipPlacement,\n        getTooltipPopupContainer = props.getTooltipPopupContainer,\n        vertical = props.vertical;\n    var isTipFormatter = tipFormatter ? visibles[index] || dragging : false;\n    var visible = tooltipVisible || tooltipVisible === undefined && isTipFormatter;\n    return /*#__PURE__*/React.createElement(SliderTooltip, {\n      prefixCls: tooltipPrefixCls,\n      title: tipFormatter ? tipFormatter(value) : '',\n      visible: visible,\n      placement: getTooltipPlacement(tooltipPlacement, vertical),\n      transitionName: \"zoom-down\",\n      key: index,\n      overlayClassName: \"\".concat(prefixCls, \"-tooltip\"),\n      getPopupContainer: getTooltipPopupContainer || getPopupContainer || function () {\n        return document.body;\n      }\n    }, /*#__PURE__*/React.createElement(RcHandle, _extends({}, restProps, {\n      value: value,\n      onMouseEnter: function onMouseEnter() {\n        return toggleTooltipVisible(index, true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return toggleTooltipVisible(index, false);\n      }\n    })));\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      customizeTooltipPrefixCls = props.tooltipPrefixCls,\n      range = props.range,\n      className = props.className,\n      restProps = __rest(props, [\"prefixCls\", \"tooltipPrefixCls\", \"range\", \"className\"]);\n\n  var prefixCls = getPrefixCls('slider', customizePrefixCls);\n  var tooltipPrefixCls = getPrefixCls('tooltip', customizeTooltipPrefixCls);\n  var cls = classNames(className, _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl')); // make reverse default on rtl direction\n\n  if (direction === 'rtl' && !restProps.vertical) {\n    restProps.reverse = !restProps.reverse;\n  }\n\n  if (range) {\n    return /*#__PURE__*/React.createElement(RcRange, _extends({}, restProps, {\n      className: cls,\n      ref: ref,\n      handle: function handle(info) {\n        return handleWithTooltip({\n          tooltipPrefixCls: tooltipPrefixCls,\n          prefixCls: prefixCls,\n          info: info\n        });\n      },\n      prefixCls: prefixCls,\n      tooltipPrefixCls: tooltipPrefixCls\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(RcSlider, _extends({}, restProps, {\n    className: cls,\n    ref: ref,\n    handle: function handle(info) {\n      return handleWithTooltip({\n        tooltipPrefixCls: tooltipPrefixCls,\n        prefixCls: prefixCls,\n        info: info\n      });\n    },\n    prefixCls: prefixCls,\n    tooltipPrefixCls: tooltipPrefixCls\n  }));\n});\nSlider.displayName = 'Slider';\nSlider.defaultProps = {\n  tipFormatter: function tipFormatter(value) {\n    return typeof value === 'number' ? value.toString() : '';\n  }\n};\nexport default Slider;","function __$styleInject(css) {\n    if (!css) return;\n\n    if (typeof window == 'undefined') return;\n    var style = document.createElement('style');\n    style.setAttribute('media', 'screen');\n\n    style.innerHTML = css;\n    document.head.appendChild(style);\n    return css;\n}\n\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport _asyncToGenerator from '@babel/runtime/helpers/esm/asyncToGenerator';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport React, { forwardRef, useState, useRef, useCallback } from 'react';\nimport t from 'prop-types';\nimport Cropper from 'react-easy-crop';\nimport LocaleReceiver from 'antd/es/locale-provider/LocaleReceiver';\nimport Modal from 'antd/es/modal';\nimport Slider from 'antd/es/slider';\n\n__$styleInject(\".antd-img-crop-modal .ant-modal-body {\\n  padding-bottom: 16px;\\n}\\n.antd-img-crop-modal .antd-img-crop-container {\\n  position: relative;\\n  width: 100%;\\n  height: 40vh;\\n  margin-bottom: 16px;\\n}\\n.antd-img-crop-modal .antd-img-crop-control {\\n  display: flex;\\n  align-items: center;\\n  width: 60%;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n.antd-img-crop-modal .antd-img-crop-control button {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  width: 34px;\\n  height: 34px;\\n  padding: 0;\\n  font-style: normal;\\n  background: transparent;\\n  border: 0;\\n  outline: 0;\\n  cursor: pointer;\\n}\\n.antd-img-crop-modal .antd-img-crop-control button[disabled] {\\n  cursor: default;\\n}\\n.antd-img-crop-modal .antd-img-crop-control.zoom button {\\n  font-size: 18px;\\n}\\n.antd-img-crop-modal .antd-img-crop-control.rotate button {\\n  font-size: 16px;\\n}\\n.antd-img-crop-modal .antd-img-crop-control.rotate button:first-of-type {\\n  transform: rotate(-20deg);\\n}\\n.antd-img-crop-modal .antd-img-crop-control.rotate button:last-of-type {\\n  transform: rotate(20deg);\\n}\\n.antd-img-crop-modal .antd-img-crop-control .ant-slider {\\n  flex: 1;\\n  margin: 0 8px;\\n}\\n\");\n\nvar pkg = 'antd-img-crop';\n\nvar noop = function noop() {};\n\nvar MEDIA_CLASS = pkg + \"-media\";\nvar MODAL_TITLE = 'Edit image';\nvar MIN_ZOOM = 1;\nvar MAX_ZOOM = 3;\nvar ZOOM_STEP = 0.1;\nvar MIN_ROTATE = 0;\nvar MAX_ROTATE = 360;\nvar ROTATE_STEP = 1;\nvar EasyCrop = /*#__PURE__*/forwardRef(function (props, ref) {\n  var src = props.src,\n      aspect = props.aspect,\n      shape = props.shape,\n      grid = props.grid,\n      hasZoom = props.hasZoom,\n      zoomVal = props.zoomVal,\n      rotateVal = props.rotateVal,\n      setZoomVal = props.setZoomVal,\n      setRotateVal = props.setRotateVal,\n      onComplete = props.onComplete;\n\n  var _useState = useState({\n    x: 0,\n    y: 0\n  }),\n      crop = _useState[0],\n      setCrop = _useState[1];\n\n  var onCropComplete = useCallback(function (croppedArea, croppedAreaPixels) {\n    onComplete(croppedAreaPixels);\n  }, [onComplete]);\n  return /*#__PURE__*/React.createElement(Cropper, {\n    ref: ref,\n    image: src,\n    aspect: aspect,\n    cropShape: shape,\n    showGrid: grid,\n    zoomWithScroll: hasZoom,\n    crop: crop,\n    zoom: zoomVal,\n    rotation: rotateVal,\n    onCropChange: setCrop,\n    onZoomChange: setZoomVal,\n    onRotationChange: setRotateVal,\n    onCropComplete: onCropComplete,\n    classes: {\n      containerClassName: pkg + \"-container\",\n      mediaClassName: MEDIA_CLASS\n    }\n  });\n});\nEasyCrop.propTypes = {\n  src: t.string,\n  aspect: t.number,\n  shape: t.string,\n  grid: t.bool,\n  hasZoom: t.bool,\n  zoomVal: t.number,\n  rotateVal: t.number,\n  setZoomVal: t.func,\n  setRotateVal: t.func,\n  onComplete: t.func\n};\nvar ImgCrop = /*#__PURE__*/forwardRef(function (props, ref) {\n  var aspect = props.aspect,\n      shape = props.shape,\n      grid = props.grid,\n      zoom = props.zoom,\n      rotate = props.rotate,\n      beforeCrop = props.beforeCrop,\n      modalTitle = props.modalTitle,\n      modalWidth = props.modalWidth,\n      modalOk = props.modalOk,\n      modalCancel = props.modalCancel,\n      children = props.children;\n  var hasZoom = zoom === true;\n  var hasRotate = rotate === true;\n  var modalTextProps = {\n    okText: modalOk,\n    cancelText: modalCancel\n  };\n  Object.keys(modalTextProps).forEach(function (key) {\n    if (!modalTextProps[key]) delete modalTextProps[key];\n  });\n\n  var _useState2 = useState(''),\n      src = _useState2[0],\n      setSrc = _useState2[1];\n\n  var _useState3 = useState(1),\n      zoomVal = _useState3[0],\n      setZoomVal = _useState3[1];\n\n  var _useState4 = useState(0),\n      rotateVal = _useState4[0],\n      setRotateVal = _useState4[1];\n\n  var beforeUploadRef = useRef();\n  var fileRef = useRef();\n  var resolveRef = useRef(noop);\n  var rejectRef = useRef(noop);\n  var cropPixelsRef = useRef();\n  /**\n   * Upload\n   */\n\n  var renderUpload = useCallback(function () {\n    var upload = Array.isArray(children) ? children[0] : children;\n\n    var _upload$props = upload.props,\n        beforeUpload = _upload$props.beforeUpload,\n        accept = _upload$props.accept,\n        restUploadProps = _objectWithoutPropertiesLoose(_upload$props, [\"beforeUpload\", \"accept\"]);\n\n    beforeUploadRef.current = beforeUpload;\n    return _extends({}, upload, {\n      props: _extends({}, restUploadProps, {\n        accept: accept || 'image/*',\n        beforeUpload: function beforeUpload(file, fileList) {\n          return new Promise(function (resolve, reject) {\n            if (beforeCrop && !beforeCrop(file, fileList)) {\n              reject();\n              return;\n            }\n\n            fileRef.current = file;\n            resolveRef.current = resolve;\n            rejectRef.current = reject;\n            var reader = new FileReader();\n            reader.addEventListener('load', function () {\n              setSrc(reader.result);\n            });\n            reader.readAsDataURL(file);\n          });\n        }\n      })\n    });\n  }, [beforeCrop, children]);\n  /**\n   * EasyCrop\n   */\n\n  var onComplete = useCallback(function (croppedAreaPixels) {\n    cropPixelsRef.current = croppedAreaPixels;\n  }, []);\n  /**\n   * Controls\n   */\n\n  var isMinZoom = zoomVal === MIN_ZOOM;\n  var isMaxZoom = zoomVal === MAX_ZOOM;\n  var isMinRotate = rotateVal === MIN_ROTATE;\n  var isMaxRotate = rotateVal === MAX_ROTATE;\n  var subZoomVal = useCallback(function () {\n    if (!isMinZoom) setZoomVal(zoomVal - ZOOM_STEP);\n  }, [isMinZoom, zoomVal]);\n  var addZoomVal = useCallback(function () {\n    if (!isMaxZoom) setZoomVal(zoomVal + ZOOM_STEP);\n  }, [isMaxZoom, zoomVal]);\n  var subRotateVal = useCallback(function () {\n    if (!isMinRotate) setRotateVal(rotateVal - ROTATE_STEP);\n  }, [isMinRotate, rotateVal]);\n  var addRotateVal = useCallback(function () {\n    if (!isMaxRotate) setRotateVal(rotateVal + ROTATE_STEP);\n  }, [isMaxRotate, rotateVal]);\n  /**\n   * Modal\n   */\n\n  var onClose = useCallback(function () {\n    setSrc('');\n    setZoomVal(1);\n    setRotateVal(0);\n  }, []);\n  var onOk = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var naturalImg, naturalWidth, naturalHeight, canvas, ctx, maxLen, halfMax, left, top, maxImgData, _cropPixelsRef$curren, width, height, x, y, _fileRef$current, type, name, uid;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            onClose();\n            naturalImg = document.querySelector(\".\" + MEDIA_CLASS);\n            naturalWidth = naturalImg.naturalWidth, naturalHeight = naturalImg.naturalHeight;\n            canvas = document.createElement('canvas');\n            ctx = canvas.getContext('2d'); // create a max canvas to cover the source image after rotated\n\n            maxLen = Math.sqrt(Math.pow(naturalWidth, 2) + Math.pow(naturalHeight, 2));\n            canvas.width = maxLen;\n            canvas.height = maxLen; // rotate the image\n\n            if (hasRotate && rotateVal > 0 && rotateVal < 360) {\n              halfMax = maxLen / 2;\n              ctx.translate(halfMax, halfMax);\n              ctx.rotate(rotateVal * Math.PI / 180);\n              ctx.translate(-halfMax, -halfMax);\n            } // draw the source image in the center of the max canvas\n\n\n            left = (maxLen - naturalWidth) / 2;\n            top = (maxLen - naturalHeight) / 2;\n            ctx.drawImage(naturalImg, left, top); // shrink the max canvas to the crop area size, then align two center points\n\n            maxImgData = ctx.getImageData(0, 0, maxLen, maxLen);\n            _cropPixelsRef$curren = cropPixelsRef.current, width = _cropPixelsRef$curren.width, height = _cropPixelsRef$curren.height, x = _cropPixelsRef$curren.x, y = _cropPixelsRef$curren.y;\n            canvas.width = width;\n            canvas.height = height;\n            ctx.putImageData(maxImgData, Math.round(-left - x), Math.round(-top - y)); // get the new image\n\n            _fileRef$current = fileRef.current, type = _fileRef$current.type, name = _fileRef$current.name, uid = _fileRef$current.uid;\n            canvas.toBlob( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(blob) {\n                var newFile, res, passedFile, _type;\n\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        newFile = blob;\n                        newFile.lastModifiedDate = Date.now();\n                        newFile.name = name;\n                        newFile.uid = uid;\n\n                        if (!(typeof beforeUploadRef.current !== 'function')) {\n                          _context.next = 6;\n                          break;\n                        }\n\n                        return _context.abrupt(\"return\", resolveRef.current(newFile));\n\n                      case 6:\n                        res = beforeUploadRef.current(newFile, [newFile]);\n\n                        if (!(typeof res !== 'boolean' && !res)) {\n                          _context.next = 10;\n                          break;\n                        }\n\n                        console.error('beforeUpload must return a boolean or Promise');\n                        return _context.abrupt(\"return\");\n\n                      case 10:\n                        if (!(res === true)) {\n                          _context.next = 12;\n                          break;\n                        }\n\n                        return _context.abrupt(\"return\", resolveRef.current(newFile));\n\n                      case 12:\n                        if (!(res === false)) {\n                          _context.next = 14;\n                          break;\n                        }\n\n                        return _context.abrupt(\"return\", rejectRef.current('not upload'));\n\n                      case 14:\n                        if (!(res && typeof res.then === 'function')) {\n                          _context.next = 27;\n                          break;\n                        }\n\n                        _context.prev = 15;\n                        _context.next = 18;\n                        return res;\n\n                      case 18:\n                        passedFile = _context.sent;\n                        _type = Object.prototype.toString.call(passedFile);\n                        if (_type === '[object File]' || _type === '[object Blob]') newFile = passedFile;\n                        resolveRef.current(newFile);\n                        _context.next = 27;\n                        break;\n\n                      case 24:\n                        _context.prev = 24;\n                        _context.t0 = _context[\"catch\"](15);\n                        rejectRef.current(_context.t0);\n\n                      case 27:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, null, [[15, 24]]);\n              }));\n\n              return function (_x) {\n                return _ref2.apply(this, arguments);\n              };\n            }(), type, 0.4);\n\n          case 19:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), [hasRotate, onClose, rotateVal]);\n  return /*#__PURE__*/React.createElement(LocaleReceiver, null, function (locale, localeCode) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, renderUpload(), src && /*#__PURE__*/React.createElement(Modal, Object.assign({\n      visible: true,\n      wrapClassName: pkg + \"-modal\",\n      title: localeCode === 'zh-cn' && modalTitle === MODAL_TITLE ? '编辑图片' : modalTitle,\n      width: modalWidth,\n      onOk: onOk,\n      onCancel: onClose,\n      maskClosable: false,\n      destroyOnClose: true\n    }, modalTextProps), /*#__PURE__*/React.createElement(EasyCrop, {\n      ref: ref,\n      src: src,\n      aspect: aspect,\n      shape: shape,\n      grid: grid,\n      hasZoom: hasZoom,\n      zoomVal: zoomVal,\n      rotateVal: rotateVal,\n      setZoomVal: setZoomVal,\n      setRotateVal: setRotateVal,\n      onComplete: onComplete\n    }), hasZoom && /*#__PURE__*/React.createElement(\"div\", {\n      className: pkg + \"-control zoom\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: subZoomVal,\n      disabled: isMinZoom\n    }, \"\\uFF0D\"), /*#__PURE__*/React.createElement(Slider, {\n      min: MIN_ZOOM,\n      max: MAX_ZOOM,\n      step: ZOOM_STEP,\n      value: zoomVal,\n      onChange: setZoomVal\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: addZoomVal,\n      disabled: isMaxZoom\n    }, \"\\uFF0B\")), hasRotate && /*#__PURE__*/React.createElement(\"div\", {\n      className: pkg + \"-control rotate\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: subRotateVal,\n      disabled: isMinRotate\n    }, \"\\u21BA\"), /*#__PURE__*/React.createElement(Slider, {\n      min: MIN_ROTATE,\n      max: MAX_ROTATE,\n      step: ROTATE_STEP,\n      value: rotateVal,\n      onChange: setRotateVal\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: addRotateVal,\n      disabled: isMaxRotate\n    }, \"\\u21BB\"))));\n  });\n});\nImgCrop.propTypes = {\n  aspect: t.number,\n  shape: t.oneOf(['rect', 'round']),\n  zoom: t.bool,\n  grid: t.bool,\n  rotate: t.bool,\n  beforeCrop: t.func,\n  modalTitle: t.string,\n  modalWidth: t.oneOfType([t.number, t.string]),\n  modalOk: t.string,\n  modalCancel: t.string,\n  children: t.node\n};\nImgCrop.defaultProps = {\n  aspect: 1,\n  shape: 'rect',\n  grid: false,\n  zoom: true,\n  rotate: false,\n  modalTitle: MODAL_TITLE,\n  modalWidth: 520\n};\n\nexport default ImgCrop;\n","// This icon file is generated automatically.\nvar QuestionCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z\" } }] }, \"name\": \"question-circle\", \"theme\": \"outlined\" };\nexport default QuestionCircleOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport QuestionCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/QuestionCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar QuestionCircleOutlined = function QuestionCircleOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: QuestionCircleOutlinedSvg\n  }));\n};\n\nQuestionCircleOutlined.displayName = 'QuestionCircleOutlined';\nexport default React.forwardRef(QuestionCircleOutlined);"],"sourceRoot":""}